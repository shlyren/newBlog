{"meta":{"version":1,"warehouse":"2.2.0"},"models":{"Asset":[{"_id":"themes/huno/source/css/china-social-icon.css","path":"css/china-social-icon.css","modified":0,"renderable":1},{"_id":"themes/huno/source/css/highlight.styl","path":"css/highlight.styl","modified":0,"renderable":1},{"_id":"themes/huno/source/css/uno.css","path":"css/uno.css","modified":0,"renderable":1},{"_id":"themes/huno/source/css/animate.css","path":"css/animate.css","modified":0,"renderable":1},{"_id":"themes/huno/source/css/archive.css","path":"css/archive.css","modified":0,"renderable":1},{"_id":"themes/huno/source/images/totop.png","path":"images/totop.png","modified":0,"renderable":1},{"_id":"themes/huno/source/js/awesome-toc.min.js","path":"js/awesome-toc.min.js","modified":0,"renderable":1},{"_id":"themes/huno/source/js/main.js","path":"js/main.js","modified":0,"renderable":1},{"_id":"themes/huno/source/js/scale.fix.js","path":"js/scale.fix.js","modified":0,"renderable":1},{"_id":"themes/huno/source/js/jquery.githubRepoWidget.min.js","path":"js/jquery.githubRepoWidget.min.js","modified":0,"renderable":1},{"_id":"themes/huno/source/js/jquery.min.js","path":"js/jquery.min.js","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/china-social/china-social.svg","path":"fonts/china-social/china-social.svg","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/china-social/china-social.ttf","path":"fonts/china-social/china-social.ttf","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/china-social/china-social.eot","path":"fonts/china-social/china-social.eot","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/china-social/china-social.woff","path":"fonts/china-social/china-social.woff","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.css","path":"fonts/foundation-icons/foundation-icons.css","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/china-social/readme.html","path":"fonts/china-social/readme.html","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.eot","path":"fonts/foundation-icons/foundation-icons.eot","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.woff","path":"fonts/foundation-icons/foundation-icons.woff","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.ttf","path":"fonts/foundation-icons/foundation-icons.ttf","modified":0,"renderable":1},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.svg","path":"fonts/foundation-icons/foundation-icons.svg","modified":0,"renderable":1}],"Cache":[{"_id":"source/.DS_Store","hash":"2765469e05db74a402ecb5ae7bd3b0fd910fb902","modified":1480646002000},{"_id":"themes/huno/.DS_Store","hash":"522e62daa0b89114cbdaddbdacca71b12000359a","modified":1480646239000},{"_id":"themes/huno/_config.yml","hash":"1affa52fd3ae87fca9fe660c39de60ba0ff633b3","modified":1480678667000},{"_id":"source/_posts/UIScrollView-Category-error-message-with-deallocated-instance.md","hash":"19eb36d4a1bd77c456eb4e004471baf520a41c9c","modified":1482045095000},{"_id":"source/_posts/hello-world.md","hash":"8d312e903d06f25d823da8a8b3af18e95cf98231","modified":1480646175000},{"_id":"source/_posts/short-haired-girl-is-also-good.md","hash":"81ebca5e61494f91ae233d7d40b8c127cbe4b18d","modified":1481507325000},{"_id":"source/_posts/use-gem-update-with-error.md","hash":"4e05b0121a2e3e6652ef757da12bb380a9de6a2e","modified":1481507413000},{"_id":"source/_posts/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1480987646000},{"_id":"source/_posts/install-hexo-on-vps-and-update-with-git.md","hash":"e10b2d40ed863067eb3d80685b003441effc6647","modified":1480988009000},{"_id":"source/_posts/install-huno-theme.md","hash":"1459a976a96b73c41b04bbf8096859f39fbd6998","modified":1480987992000},{"_id":"source/about/index.md","hash":"420b2da78406050d72d5291176ef964b31d2949c","modified":1480651471000},{"_id":"source/archive/index.md","hash":"5470e5e74b1f79da2d2eebdecb57a503514aa2c4","modified":1480642576000},{"_id":"themes/huno/languages/default.yml","hash":"bddd7fd79412849a52b9a36aae36af111b2db619","modified":1464719186000},{"_id":"themes/huno/languages/zh-TW.yml","hash":"d865666c14c58c70738d9aef04ae14e38e750c14","modified":1464719186000},{"_id":"themes/huno/languages/zh-CN.yml","hash":"fc0fcc3819c03baeecf2aa51cec08257973288cf","modified":1464719186000},{"_id":"themes/huno/layout/.DS_Store","hash":"337bffc6b0bf3335a00920f33d225f6e29f25d6c","modified":1480641987000},{"_id":"themes/huno/layout/category.ejs","hash":"2b412d1b52b9da8ad19f6a66b1c18ab0b7546214","modified":1464719186000},{"_id":"themes/huno/layout/archive.ejs","hash":"23aff325ab97b2c7dde6e757fa3add5226a88b4f","modified":1464719186000},{"_id":"themes/huno/layout/index.ejs","hash":"12c817a875f353c03d8795c2a7b653e4da22c17e","modified":1464719186000},{"_id":"themes/huno/layout/layout.ejs","hash":"d83eb6f03e8a5f860c848fa66633539862556d48","modified":1480678811000},{"_id":"themes/huno/layout/post.ejs","hash":"86c9d13e8abdcff4d368e34595e2d2f11f37e9d4","modified":1464719186000},{"_id":"themes/huno/layout/page-archive.ejs","hash":"ce5523d829c0fdd6a79984fcf15e33572a220df9","modified":1464719186000},{"_id":"themes/huno/layout/page.ejs","hash":"70a50ecf7e1aa9c658212f1e77783dcb287d56a6","modified":1464719186000},{"_id":"themes/huno/layout/tag.ejs","hash":"fefa03bed577cae2e1aac19bd5d30c5034f453a0","modified":1464719186000},{"_id":"themes/huno/source/.DS_Store","hash":"46adaf588c0ab9568c1732e99bc162697e02c5aa","modified":1480645437000},{"_id":"themes/huno/layout/_partials/list-posts.ejs","hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","modified":1464719186000},{"_id":"themes/huno/layout/_scripts/github-repo-widget.ejs","hash":"ee64a8e431318cb8fb25f59cfeec0def95b58912","modified":1464719186000},{"_id":"themes/huno/layout/_scripts/.DS_Store","hash":"f02a6087d9f8e9832c485cb3ea77a3fe5ce186b4","modified":1480668816000},{"_id":"themes/huno/layout/_scripts/awesome-toc.ejs","hash":"b39df57929c246726ca45723ca9ad1a4104738c4","modified":1464719186000},{"_id":"themes/huno/layout/_scripts/killie6.ejs","hash":"2d5db8a53962ac704b8bfc40688319bed2e84ac9","modified":1464719186000},{"_id":"themes/huno/layout/_scripts/mathjax.ejs","hash":"2921f9f3b3c3e40f59c2d023764694a79ac07926","modified":1464719186000},{"_id":"themes/huno/layout/_partials/archive.ejs","hash":"2c413cde5b1d3a475777e8ff8226762dfe92610c","modified":1464719186000},{"_id":"themes/huno/layout/_scripts/site-analytics.ejs","hash":"40c5f6251f627df75b2e82e5dd870844eb713ce3","modified":1480671357000},{"_id":"themes/huno/layout/_partials/disqus.ejs","hash":"30c043cc683c78f345a658cf64b37e55e6521685","modified":1464719186000},{"_id":"themes/huno/layout/_partials/article.ejs","hash":"12993f72e718ac81763c2095f64b7ef3523f1777","modified":1480668659000},{"_id":"themes/huno/layout/_partials/duoshuo.ejs","hash":"7cfe423c088a3bf0565e27a1c17d1b99a260786b","modified":1464719186000},{"_id":"themes/huno/layout/_partials/footer.ejs","hash":"9b32757004ddbc29d7be298546720e7adde158ab","modified":1482048543000},{"_id":"themes/huno/layout/_partials/pagination.ejs","hash":"1240c019aa4df269777c54c0d2124b534ec1f380","modified":1464719186000},{"_id":"themes/huno/layout/_partials/side-panel.ejs","hash":"f28f4e1650f057e6048cc3791852e0d8e3d5f2bb","modified":1464869859000},{"_id":"themes/huno/layout/_partials/social.ejs","hash":"a65ffe8973281939065344d4a452691edcfc71f4","modified":1464853895000},{"_id":"themes/huno/source/css/china-social-icon.css","hash":"2f90442f6d0d289e49c07a85c2dae32cab8b2063","modified":1464719186000},{"_id":"themes/huno/source/css/highlight.styl","hash":"92eabbf94e7a06e968c356bedf4adb04700f1c2e","modified":1464719186000},{"_id":"themes/huno/source/css/uno.css","hash":"9e817b74cefb7beb2b55b6b76aeeb0eaa6f2f3f3","modified":1481002733000},{"_id":"themes/huno/source/css/animate.css","hash":"651fcf046b1bd2bff3ab4cb8947ff7fe058de373","modified":1464719186000},{"_id":"themes/huno/source/images/.DS_Store","hash":"df2fbeb1400acda0909a32c1cf6bf492f1121e07","modified":1480644174000},{"_id":"themes/huno/source/css/archive.css","hash":"7238ea5f6bda859e3bae7aaa546caf27fe1fb0cc","modified":1464719186000},{"_id":"themes/huno/source/images/totop.png","hash":"4f6cb11941e5a72b03cb00cf9d9d55671b4310eb","modified":1464719186000},{"_id":"themes/huno/source/fonts/.DS_Store","hash":"162941945dfdbbbd58b90ddcdeb9fad3ae000695","modified":1480680621000},{"_id":"themes/huno/source/js/awesome-toc.min.js","hash":"b4d0f2a33f8340eb2543e8b2cee0dfd745cfb54a","modified":1464719186000},{"_id":"themes/huno/source/js/main.js","hash":"4a477bf23afa10929c4be55ab90c59ce0d9b9842","modified":1464719186000},{"_id":"themes/huno/source/js/scale.fix.js","hash":"ce593f56728cc1cedf2e513cb20b926de3b05e07","modified":1464719186000},{"_id":"themes/huno/source/js/jquery.githubRepoWidget.min.js","hash":"94a141fa474ec5022f7c397b4fd3ff92405ab755","modified":1464719186000},{"_id":"themes/huno/source/js/jquery.min.js","hash":"8b6babff47b8a9793f37036fd1b1a3ad41d38423","modified":1464719186000},{"_id":"themes/huno/source/fonts/china-social/china-social.svg","hash":"4bad780e6a31f4fa9fef037a3d9ecb8623042a6e","modified":1464719186000},{"_id":"themes/huno/source/fonts/china-social/china-social.ttf","hash":"2f94360528097df7dcfb39baf8df5393a0d47ca3","modified":1464719186000},{"_id":"themes/huno/source/fonts/china-social/china-social.eot","hash":"a43a5c3d66f0d38639a595ebd02857e152ada475","modified":1464719186000},{"_id":"themes/huno/source/fonts/foundation-icons/.fontcustom-data","hash":"3b0cfb3ba2ee7ccae391bc66b3acaa6895932e5f","modified":1464719186000},{"_id":"themes/huno/source/fonts/china-social/china-social.woff","hash":"74c0ac5268cf7ffe270faaf7c960b74d483d2df1","modified":1464719186000},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.css","hash":"426036f1d554b9dffae8b38acc36cade40d9521a","modified":1464719186000},{"_id":"themes/huno/source/fonts/china-social/readme.html","hash":"ca335751de11d6ef7721dc907571de39cef6e361","modified":1464719186000},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.eot","hash":"d584172686583fd510d8f04cf21e6e77fce51435","modified":1464719186000},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.woff","hash":"112fb0e498037f2fea036adb8105e47638159eaa","modified":1464719186000},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.ttf","hash":"4b2bce6c792493a4a5716b6fec2dbefe89492c3f","modified":1464719186000},{"_id":"themes/huno/source/fonts/foundation-icons/foundation-icons.svg","hash":"bdca38f453f9935203fe8cd071e97d7f8576e0be","modified":1464719186000},{"_id":"public/about/index.html","hash":"7dc4f2a70facd75f63b48dd8333b13bfd993f506","modified":1482048695560},{"_id":"public/archive/index.html","hash":"03e93ae46c36d39443b738b5ff23f42329eca58c","modified":1482048695561},{"_id":"public/2016/12/02/use-gem-update-with-error/index.html","hash":"880f3d9f875767a23937d33a79fbfa056ce20814","modified":1482048695561},{"_id":"public/2016/12/02/hello-world/index.html","hash":"a082430a5f837b30f4435a62b0410897a97edb2c","modified":1482048695562},{"_id":"public/categories/错误解决/index.html","hash":"6e0c2856120f7c39afd3647902733f1e5f04f7a9","modified":1482048695563},{"_id":"public/categories/教程/index.html","hash":"32cd35bdbf6d5ed0493bdcb09ae2a9704a2d5ff9","modified":1482048695564},{"_id":"public/archives/index.html","hash":"9f7e25574d1fe5071191c65fb04bcfe06ff55d6b","modified":1482048695562},{"_id":"public/archives/2016/index.html","hash":"c44e2c10f3afddff378f1d5b96c55ab97d7de49e","modified":1482048695562},{"_id":"public/archives/2016/12/index.html","hash":"bb80e8ed206ba5eddc2719fab549970ffde12078","modified":1482048695563},{"_id":"public/index.html","hash":"f206243f8b19e605eb11b544bd24b2f28fa006b5","modified":1482048695563},{"_id":"public/tags/gem/index.html","hash":"e95ddb567fc7aacee0f48feb2bee1d11a4d682d8","modified":1482048695564},{"_id":"public/tags/error/index.html","hash":"af60ec67d3f63ab9b15cc542a3d6848b5acdf07e","modified":1482048695564},{"_id":"public/tags/OC/index.html","hash":"024b5d9fe483666220bbdee5eee5fc980eab8522","modified":1481196405027},{"_id":"public/tags/git/index.html","hash":"9e75d01ab26b724dbaab039b2b4a7ea507fa93e4","modified":1482048695564},{"_id":"public/2016/12/06/UIScrollView-Category-error-message-with-deallocated-instance/index.html","hash":"0ccc4e313982f8405da542b4379a3a867b614621","modified":1482048695561},{"_id":"public/tags/blog/index.html","hash":"cafe83dca85f2ddc621113c3abbdf33a17e533d3","modified":1482048695565},{"_id":"public/2016/12/02/install-hexo-on-vps-and-update-with-git/index.html","hash":"c44d4da0898c3a09db898e06b171f0b0ff038635","modified":1482048695565},{"_id":"public/2016/12/02/install-huno-theme/index.html","hash":"9875f604473b4e35a159793f324cf7c418d0ef73","modified":1482048695565},{"_id":"public/2016/12/08/short-haired-girl-is-also-good/index.html","hash":"fb1dc30559003229e6eb42efa3aef749b40fa7be","modified":1482048695561},{"_id":"public/categories/情感/index.html","hash":"65e523027837e1883b21b1517ef805e3b1b66cc2","modified":1482048695564},{"_id":"public/archives/page/2/index.html","hash":"1befd2ca2319935d043c2278502768f8a890f0b9","modified":1482048695562},{"_id":"public/archives/2016/page/2/index.html","hash":"95bf32011ae7bf5faa1cd4686c4becc64da62fd4","modified":1482048695563},{"_id":"public/archives/2016/12/page/2/index.html","hash":"dfce14fc268239a679d7585be6479d6e50ef4079","modified":1482048695563},{"_id":"public/page/2/index.html","hash":"27d2314957a1def29ca5b582df128d9c247e237d","modified":1482048695563},{"_id":"public/tags/情感/index.html","hash":"01efc52a1f562083458af318eaddf279de452297","modified":1482048695564},{"_id":"public/images/totop.png","hash":"4f6cb11941e5a72b03cb00cf9d9d55671b4310eb","modified":1482048695582},{"_id":"public/fonts/china-social/china-social.ttf","hash":"2f94360528097df7dcfb39baf8df5393a0d47ca3","modified":1482048695582},{"_id":"public/fonts/china-social/china-social.svg","hash":"4bad780e6a31f4fa9fef037a3d9ecb8623042a6e","modified":1482048695581},{"_id":"public/fonts/china-social/china-social.eot","hash":"a43a5c3d66f0d38639a595ebd02857e152ada475","modified":1482048695582},{"_id":"public/fonts/china-social/china-social.woff","hash":"74c0ac5268cf7ffe270faaf7c960b74d483d2df1","modified":1482048695582},{"_id":"public/fonts/foundation-icons/foundation-icons.eot","hash":"d584172686583fd510d8f04cf21e6e77fce51435","modified":1482048695582},{"_id":"public/fonts/foundation-icons/foundation-icons.woff","hash":"112fb0e498037f2fea036adb8105e47638159eaa","modified":1482048695583},{"_id":"public/fonts/foundation-icons/foundation-icons.ttf","hash":"4b2bce6c792493a4a5716b6fec2dbefe89492c3f","modified":1482048695583},{"_id":"public/css/highlight.css","hash":"701da6788bee02c165236174b6767ae06957f051","modified":1482048696298},{"_id":"public/js/awesome-toc.min.js","hash":"b4d0f2a33f8340eb2543e8b2cee0dfd745cfb54a","modified":1482048696298},{"_id":"public/css/archive.css","hash":"88005d441d52e143cd2ab4da53b1ec50e22f9ade","modified":1482048696298},{"_id":"public/js/main.js","hash":"bafb068e72c56db9e66ac148512b1b21cf5547e1","modified":1482048696298},{"_id":"public/css/china-social-icon.css","hash":"2f90442f6d0d289e49c07a85c2dae32cab8b2063","modified":1482048696298},{"_id":"public/css/uno.css","hash":"464f6ec53a7e41564f8b4d7019e7167dd39dd658","modified":1482048696299},{"_id":"public/css/animate.css","hash":"a2f854fbdc52a5657dd5e2b95cc96c0da32f3ea2","modified":1482048696300},{"_id":"public/js/scale.fix.js","hash":"bbf62458c63fca2535965f9dfaacfbc6bc697e03","modified":1482048696298},{"_id":"public/js/jquery.githubRepoWidget.min.js","hash":"94a141fa474ec5022f7c397b4fd3ff92405ab755","modified":1482048696299},{"_id":"public/fonts/china-social/readme.html","hash":"ca335751de11d6ef7721dc907571de39cef6e361","modified":1482048696299},{"_id":"public/fonts/foundation-icons/foundation-icons.css","hash":"2ad3bb2b4b7d1d67b4d40a9672193638c168c12a","modified":1482048696301},{"_id":"public/js/jquery.min.js","hash":"06e872300088b9ba8a08427d28ed0efcdf9c6ff5","modified":1482048696300},{"_id":"public/fonts/foundation-icons/foundation-icons.svg","hash":"bdca38f453f9935203fe8cd071e97d7f8576e0be","modified":1482048696301},{"_id":"public/tags/Xcode/index.html","hash":"e1cc36da9781fc3832182d9cd6cf4ae022fce9c1","modified":1482048695565},{"_id":"public/tags/Objc/index.html","hash":"33f070a1fddcb87847e5566b43f10b458f39db07","modified":1482048695565},{"_id":"public/tags/terminal/index.html","hash":"f3b466788364b11dcd13e519812656dfe22b6d87","modified":1482048695565}],"Category":[{"name":"错误解决","_id":"ciwfyce6d00025kjgngamtg05"},{"name":"情感","_id":"ciwfyce6y000b5kjgs28fc3es"},{"name":"教程","_id":"ciwfyce70000g5kjgdcrwja38"}],"Data":[],"Page":[{"title":"关于","date":"2016-12-02T01:52:46.000Z","_content":"\nThis is my new blog\n\n","source":"about/index.md","raw":"---\ntitle: 关于\ndate: 2016-12-02 09:52:46\n---\n\nThis is my new blog\n\n","updated":"2016-12-02T04:04:31.000Z","path":"about/index.html","comments":1,"layout":"page","_id":"ciwfyce7l000w5kjgaimkdxx4","content":"<p>This is my new blog</p>\n","excerpt":"","more":"<p>This is my new blog</p>\n"},{"title":"归档","layout":"page-archive","_content":"","source":"archive/index.md","raw":"---\ntitle: 归档\nlayout: page-archive\n---\n","date":"2016-12-02T01:36:16.000Z","updated":"2016-12-02T01:36:16.000Z","path":"archive/index.html","comments":1,"_id":"ciwfyce7m000x5kjgsr5k1v5q","content":"","excerpt":"","more":""}],"Post":[{"title":"重写UIScrollView分类dealloc错误","date":"2016-12-06T01:25:01.000Z","_content":"\n> [UIScrollView _systemGestureStateChanged:]: message sent to deallocated instance> 错误解决方法\n> [UITableViewWrapperView _systemGestureStateChanged] 解决亦是如此\n\n今天一个朋友自己的程序出现了一个bug, 不知道怎么解决, 他把报错内容给我, 报错内容如下:\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsd983rsj21g60ggjyt.jpg\" width = \"600\"/>\n就是普通的僵尸对象错误, 可是解决就不是那么简单了...\n\n<!-- more -->\n\n我翻边了各大国内过外网站, 终于再一个不显眼的地方看到了大致是因为在`UIScrollView`分类重写了`dealloc`方法导致.\n\n于是我去项目里看一下`UIScrollView`的分类. 果真, 这个第三方重写了`dealoc`, 把它注释掉果然没有出现僵尸对象了.\n\n可是问题又来了,这个分类是在`dealloc`里移除监听的\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsjlodobj20qw04ywfe.jpg\" width = \"500\"/>\n\n我想到了`MJRefresh`使用的也是同样的原理, 于是我去看了他的代码,他是再这里移除监听的\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsl6oopij210a07yacr.jpg\" width = \"500\"/>\n\n那我们就学着他\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagslu9vecj20zk0ba41t.jpg\" width = \"500\"/>\n\n重新运行程序, 问题解决.\n\n然而, 又有新的问题出现, 就是通知移除的问题, 为了彻底解决自己写了个.\n代码地址:https://github.com/shlyren/ZYScaleHeader\n\n","source":"_posts/UIScrollView-Category-error-message-with-deallocated-instance.md","raw":"---\ntitle: 重写UIScrollView分类dealloc错误\ndate: 2016-12-06 09:25:01\ncategories: 错误解决\ntags: [Xcode, Objc, error]\n---\n\n> [UIScrollView _systemGestureStateChanged:]: message sent to deallocated instance> 错误解决方法\n> [UITableViewWrapperView _systemGestureStateChanged] 解决亦是如此\n\n今天一个朋友自己的程序出现了一个bug, 不知道怎么解决, 他把报错内容给我, 报错内容如下:\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsd983rsj21g60ggjyt.jpg\" width = \"600\"/>\n就是普通的僵尸对象错误, 可是解决就不是那么简单了...\n\n<!-- more -->\n\n我翻边了各大国内过外网站, 终于再一个不显眼的地方看到了大致是因为在`UIScrollView`分类重写了`dealloc`方法导致.\n\n于是我去项目里看一下`UIScrollView`的分类. 果真, 这个第三方重写了`dealoc`, 把它注释掉果然没有出现僵尸对象了.\n\n可是问题又来了,这个分类是在`dealloc`里移除监听的\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsjlodobj20qw04ywfe.jpg\" width = \"500\"/>\n\n我想到了`MJRefresh`使用的也是同样的原理, 于是我去看了他的代码,他是再这里移除监听的\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsl6oopij210a07yacr.jpg\" width = \"500\"/>\n\n那我们就学着他\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagslu9vecj20zk0ba41t.jpg\" width = \"500\"/>\n\n重新运行程序, 问题解决.\n\n然而, 又有新的问题出现, 就是通知移除的问题, 为了彻底解决自己写了个.\n代码地址:https://github.com/shlyren/ZYScaleHeader\n\n","slug":"UIScrollView-Category-error-message-with-deallocated-instance","published":1,"updated":"2016-12-18T07:11:35.000Z","_id":"ciwfyce6400005kjgycv1donh","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>[UIScrollView _systemGestureStateChanged:]: message sent to deallocated instance&gt; 错误解决方法<br>[UITableViewWrapperView _systemGestureStateChanged] 解决亦是如此</p>\n</blockquote>\n<p>今天一个朋友自己的程序出现了一个bug, 不知道怎么解决, 他把报错内容给我, 报错内容如下:<br><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsd983rsj21g60ggjyt.jpg\" width=\"600\"><br>就是普通的僵尸对象错误, 可是解决就不是那么简单了…</p>\n<a id=\"more\"></a>\n<p>我翻边了各大国内过外网站, 终于再一个不显眼的地方看到了大致是因为在<code>UIScrollView</code>分类重写了<code>dealloc</code>方法导致.</p>\n<p>于是我去项目里看一下<code>UIScrollView</code>的分类. 果真, 这个第三方重写了<code>dealoc</code>, 把它注释掉果然没有出现僵尸对象了.</p>\n<p>可是问题又来了,这个分类是在<code>dealloc</code>里移除监听的<br><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsjlodobj20qw04ywfe.jpg\" width=\"500\"></p>\n<p>我想到了<code>MJRefresh</code>使用的也是同样的原理, 于是我去看了他的代码,他是再这里移除监听的<br><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsl6oopij210a07yacr.jpg\" width=\"500\"></p>\n<p>那我们就学着他<br><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagslu9vecj20zk0ba41t.jpg\" width=\"500\"></p>\n<p>重新运行程序, 问题解决.</p>\n<p>然而, 又有新的问题出现, 就是通知移除的问题, 为了彻底解决自己写了个.<br>代码地址:<a href=\"https://github.com/shlyren/ZYScaleHeader\" target=\"_blank\" rel=\"external\">https://github.com/shlyren/ZYScaleHeader</a></p>\n","excerpt":"<blockquote>\n<p>[UIScrollView _systemGestureStateChanged:]: message sent to deallocated instance&gt; 错误解决方法<br>[UITableViewWrapperView _systemGestureStateChanged] 解决亦是如此</p>\n</blockquote>\n<p>今天一个朋友自己的程序出现了一个bug, 不知道怎么解决, 他把报错内容给我, 报错内容如下:<br><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsd983rsj21g60ggjyt.jpg\" width = \"600\"/><br>就是普通的僵尸对象错误, 可是解决就不是那么简单了…</p>","more":"<p>我翻边了各大国内过外网站, 终于再一个不显眼的地方看到了大致是因为在<code>UIScrollView</code>分类重写了<code>dealloc</code>方法导致.</p>\n<p>于是我去项目里看一下<code>UIScrollView</code>的分类. 果真, 这个第三方重写了<code>dealoc</code>, 把它注释掉果然没有出现僵尸对象了.</p>\n<p>可是问题又来了,这个分类是在<code>dealloc</code>里移除监听的<br><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsjlodobj20qw04ywfe.jpg\" width = \"500\"/></p>\n<p>我想到了<code>MJRefresh</code>使用的也是同样的原理, 于是我去看了他的代码,他是再这里移除监听的<br><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagsl6oopij210a07yacr.jpg\" width = \"500\"/></p>\n<p>那我们就学着他<br><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fagslu9vecj20zk0ba41t.jpg\" width = \"500\"/></p>\n<p>重新运行程序, 问题解决.</p>\n<p>然而, 又有新的问题出现, 就是通知移除的问题, 为了彻底解决自己写了个.<br>代码地址:<a href=\"https://github.com/shlyren/ZYScaleHeader\">https://github.com/shlyren/ZYScaleHeader</a></p>"},{"title":"Hello World","_content":"Welcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n<!-- more -->\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n\n","source":"_posts/hello-world.md","raw":"---\ntitle: Hello World\n---\nWelcome to [Hexo](https://hexo.io/)! This is your very first post. Check [documentation](https://hexo.io/docs/) for more info. If you get any problems when using Hexo, you can find the answer in [troubleshooting](https://hexo.io/docs/troubleshooting.html) or you can ask me on [GitHub](https://github.com/hexojs/hexo/issues).\n\n## Quick Start\n\n### Create a new post\n\n``` bash\n$ hexo new \"My New Post\"\n```\n\nMore info: [Writing](https://hexo.io/docs/writing.html)\n\n<!-- more -->\n\n### Run server\n\n``` bash\n$ hexo server\n```\n\nMore info: [Server](https://hexo.io/docs/server.html)\n\n### Generate static files\n\n``` bash\n$ hexo generate\n```\n\nMore info: [Generating](https://hexo.io/docs/generating.html)\n\n### Deploy to remote sites\n\n``` bash\n$ hexo deploy\n```\n\nMore info: [Deployment](https://hexo.io/docs/deployment.html)\n\n\n","slug":"hello-world","published":1,"date":"2016-12-02T00:50:11.000Z","updated":"2016-12-02T02:36:15.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwfyce6900015kjgy96k2790","content":"<p>Welcome to <a href=\"https://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\" target=\"_blank\" rel=\"external\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\" target=\"_blank\" rel=\"external\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\" target=\"_blank\" rel=\"external\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\" target=\"_blank\" rel=\"external\">Writing</a></p>\n<a id=\"more\"></a>\n<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\" target=\"_blank\" rel=\"external\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\" target=\"_blank\" rel=\"external\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\" target=\"_blank\" rel=\"external\">Deployment</a></p>\n","excerpt":"<p>Welcome to <a href=\"https://hexo.io/\">Hexo</a>! This is your very first post. Check <a href=\"https://hexo.io/docs/\">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href=\"https://hexo.io/docs/troubleshooting.html\">troubleshooting</a> or you can ask me on <a href=\"https://github.com/hexojs/hexo/issues\">GitHub</a>.</p>\n<h2 id=\"Quick-Start\"><a href=\"#Quick-Start\" class=\"headerlink\" title=\"Quick Start\"></a>Quick Start</h2><h3 id=\"Create-a-new-post\"><a href=\"#Create-a-new-post\" class=\"headerlink\" title=\"Create a new post\"></a>Create a new post</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new <span class=\"string\">\"My New Post\"</span></div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/writing.html\">Writing</a></p>","more":"<h3 id=\"Run-server\"><a href=\"#Run-server\" class=\"headerlink\" title=\"Run server\"></a>Run server</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo server</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/server.html\">Server</a></p>\n<h3 id=\"Generate-static-files\"><a href=\"#Generate-static-files\" class=\"headerlink\" title=\"Generate static files\"></a>Generate static files</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo generate</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/generating.html\">Generating</a></p>\n<h3 id=\"Deploy-to-remote-sites\"><a href=\"#Deploy-to-remote-sites\" class=\"headerlink\" title=\"Deploy to remote sites\"></a>Deploy to remote sites</h3><figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo deploy</div></pre></td></tr></table></figure>\n<p>More info: <a href=\"https://hexo.io/docs/deployment.html\">Deployment</a></p>"},{"title":"使用gem更新报错的问题","date":"2016-12-02T06:01:01.000Z","_content":"\n## gem install cocoapods\n\n使用`gem install cocoapods`更新报`You don't have write permissions for the /Library/Ruby/Gems/2.0.0 directory`错.\n解决方法: 使用`sudo gem install cocoapods` 更新\n\n<!-- more -->\n\n## sudo gem install cocoapods\n使用`sudo gem install cocoapods`更新报`Operation not permitted - /usr/bin/pod`错\n\n解决方法: 使用`sudo gem install -n /usr/local/bin cocoapods`\n\n\n","source":"_posts/use-gem-update-with-error.md","raw":"---\ntitle: 使用gem更新报错的问题\ndate: 2016-12-02 14:01:01\ncategories: 错误解决\ntags: [terminal, gem, error]\n---\n\n## gem install cocoapods\n\n使用`gem install cocoapods`更新报`You don't have write permissions for the /Library/Ruby/Gems/2.0.0 directory`错.\n解决方法: 使用`sudo gem install cocoapods` 更新\n\n<!-- more -->\n\n## sudo gem install cocoapods\n使用`sudo gem install cocoapods`更新报`Operation not permitted - /usr/bin/pod`错\n\n解决方法: 使用`sudo gem install -n /usr/local/bin cocoapods`\n\n\n","slug":"use-gem-update-with-error","published":1,"updated":"2016-12-12T01:50:13.000Z","_id":"ciwfyce6h00045kjgdmte7inp","comments":1,"layout":"post","photos":[],"link":"","content":"<h2 id=\"gem-install-cocoapods\"><a href=\"#gem-install-cocoapods\" class=\"headerlink\" title=\"gem install cocoapods\"></a>gem install cocoapods</h2><p>使用<code>gem install cocoapods</code>更新报<code>You don&#39;t have write permissions for the /Library/Ruby/Gems/2.0.0 directory</code>错.<br>解决方法: 使用<code>sudo gem install cocoapods</code> 更新</p>\n<a id=\"more\"></a>\n<h2 id=\"sudo-gem-install-cocoapods\"><a href=\"#sudo-gem-install-cocoapods\" class=\"headerlink\" title=\"sudo gem install cocoapods\"></a>sudo gem install cocoapods</h2><p>使用<code>sudo gem install cocoapods</code>更新报<code>Operation not permitted - /usr/bin/pod</code>错</p>\n<p>解决方法: 使用<code>sudo gem install -n /usr/local/bin cocoapods</code></p>\n","excerpt":"<h2 id=\"gem-install-cocoapods\"><a href=\"#gem-install-cocoapods\" class=\"headerlink\" title=\"gem install cocoapods\"></a>gem install cocoapods</h2><p>使用<code>gem install cocoapods</code>更新报<code>You don&#39;t have write permissions for the /Library/Ruby/Gems/2.0.0 directory</code>错.<br>解决方法: 使用<code>sudo gem install cocoapods</code> 更新</p>","more":"<h2 id=\"sudo-gem-install-cocoapods\"><a href=\"#sudo-gem-install-cocoapods\" class=\"headerlink\" title=\"sudo gem install cocoapods\"></a>sudo gem install cocoapods</h2><p>使用<code>sudo gem install cocoapods</code>更新报<code>Operation not permitted - /usr/bin/pod</code>错</p>\n<p>解决方法: 使用<code>sudo gem install -n /usr/local/bin cocoapods</code></p>"},{"title":"短发姑娘也很美","date":"2016-12-08T05:52:20.000Z","_content":"\n> 其实, 短发姑娘也好看...\n> https://zy.yuxiang.ren\n\n<!-- more -->\n\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fajlrwunrsj20pm0zkwgl.jpg\" width = \"300\" />\n\n## 长发的时候\n<img src=\"https://ww3.sinaimg.cn/large/65e4f1e6gw1fajc9arj76j20k00zkn0a.jpg\" width = \"300\" />\n\n## 短发了\n<img src=\"https://ww1.sinaimg.cn/large/65e4f1e6gw1fajca03y5fj20k00zk0vj.jpg\" width = \"300\" />   <img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fajlrdqhtej20k00zk0uq.jpg\" width = \"300\" />\n\n\n> 每一个剪短发的姑娘都是一个有故事的人...\n\n\n","source":"_posts/short-haired-girl-is-also-good.md","raw":"---\ntitle: 短发姑娘也很美\ndate: 2016-12-08 13:52:20\ncategories: 情感\ntags: 情感\n---\n\n> 其实, 短发姑娘也好看...\n> https://zy.yuxiang.ren\n\n<!-- more -->\n\n<img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fajlrwunrsj20pm0zkwgl.jpg\" width = \"300\" />\n\n## 长发的时候\n<img src=\"https://ww3.sinaimg.cn/large/65e4f1e6gw1fajc9arj76j20k00zkn0a.jpg\" width = \"300\" />\n\n## 短发了\n<img src=\"https://ww1.sinaimg.cn/large/65e4f1e6gw1fajca03y5fj20k00zk0vj.jpg\" width = \"300\" />   <img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fajlrdqhtej20k00zk0uq.jpg\" width = \"300\" />\n\n\n> 每一个剪短发的姑娘都是一个有故事的人...\n\n\n","slug":"short-haired-girl-is-also-good","published":1,"updated":"2016-12-12T01:48:45.000Z","_id":"ciwfyce6j00055kjgcac8unev","comments":1,"layout":"post","photos":[],"link":"","content":"<blockquote>\n<p>其实, 短发姑娘也好看…<br><a href=\"https://zy.yuxiang.ren\" target=\"_blank\" rel=\"external\">https://zy.yuxiang.ren</a></p>\n</blockquote>\n<a id=\"more\"></a>\n<p><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fajlrwunrsj20pm0zkwgl.jpg\" width=\"300\"></p>\n<h2 id=\"长发的时候\"><a href=\"#长发的时候\" class=\"headerlink\" title=\"长发的时候\"></a>长发的时候</h2><p><img src=\"https://ww3.sinaimg.cn/large/65e4f1e6gw1fajc9arj76j20k00zkn0a.jpg\" width=\"300\"></p>\n<h2 id=\"短发了\"><a href=\"#短发了\" class=\"headerlink\" title=\"短发了\"></a>短发了</h2><p><img src=\"https://ww1.sinaimg.cn/large/65e4f1e6gw1fajca03y5fj20k00zk0vj.jpg\" width=\"300\">   <img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fajlrdqhtej20k00zk0uq.jpg\" width=\"300\"></p>\n<blockquote>\n<p>每一个剪短发的姑娘都是一个有故事的人…</p>\n</blockquote>\n","excerpt":"<blockquote>\n<p>其实, 短发姑娘也好看…<br><a href=\"https://zy.yuxiang.ren\">https://zy.yuxiang.ren</a></p>\n</blockquote>","more":"<p><img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fajlrwunrsj20pm0zkwgl.jpg\" width = \"300\" /></p>\n<h2 id=\"长发的时候\"><a href=\"#长发的时候\" class=\"headerlink\" title=\"长发的时候\"></a>长发的时候</h2><p><img src=\"https://ww3.sinaimg.cn/large/65e4f1e6gw1fajc9arj76j20k00zkn0a.jpg\" width = \"300\" /></p>\n<h2 id=\"短发了\"><a href=\"#短发了\" class=\"headerlink\" title=\"短发了\"></a>短发了</h2><p><img src=\"https://ww1.sinaimg.cn/large/65e4f1e6gw1fajca03y5fj20k00zk0vj.jpg\" width = \"300\" />   <img src=\"https://ww4.sinaimg.cn/large/65e4f1e6gw1fajlrdqhtej20k00zk0uq.jpg\" width = \"300\" /></p>\n<blockquote>\n<p>每一个剪短发的姑娘都是一个有故事的人…</p>\n</blockquote>"},{"title":"在vps上安装hexo并且使用git更新","date":"2016-12-02T03:28:17.000Z","_content":"\n\n## 一、准备工作\n\n### VPS&域名\n请自行购买服务器以及域名.\n\n## 二、搭建过程\n>搭建分为两个部分:一部分在本机(Mac)进行，另一部分则在服务端(VPS)进行，大致需要完成的工作是在本机和服务器各安装一次Hexo和Git，并在服务器上安装Nginx服务器、配置Git Hooks以实现更新.并且全程使用终端命令完成。\n\n<!-- more -->\n\n### 本地电脑配置\n1. 安装Homebrew\n * `/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"`\n2. 安装Node.js\n * `brew install node`\n3. 创建网站目录\n * 在任意位置创建一个文件夹，作为网站目录，并通过 cd 命令进入文件夹。\n4. 本地电脑安装hexo\n * `npm install -g hexo-cli`\n * `hexo init`\n * `npm install`\n * `hexo d -fg`s\n * `hexo serve` *简洁写法:`hexo s`*\n \n然后访问 http://localhost:4000 如果看到网页表示Hexo配置成功\n\n### 远程服务器配置(VPS)\n**下文中的`yuxiang.ren(这是我的域名)`,`45.32.249.14(这是我的主机ip)`...请自行替换**\n\n1. 此处为Debian/Ubuntu在root用户下的操作:\n * 执行`ssh root@你的vps地址`进入主机\n * 依次执行以下命令 (安装hexo服务)\n            \n    ```bash\n     $apt-get update && apt-get upgrade -y\n     $apt-get install git-core -y\n     $curl -sL https://deb.nodesource.com/setup | bash\n     $apt-get install nodejs -y\n     $apt-get install nginx -y\n     $cd /etc/nginx/sites-available\n     $rm -rf default\n     $touch yuxiang.ren #根据自己情况替换\n     $vi yuxiang.ren #根据自己情况替换\n    ```\n2. 上面的最后一条命令输入完成后会进入编辑页面,将下面代码复制到里面(通过按i进入编辑模式)。(host监听)\n```ruby\n    server {\n        listen 45.32.249.14:80; #监听80端口\n        server_name yuxiang.ren; # 域名\n        access_log  /var/log/nginx/yuxiang_access.log;\n        error_log   /var/log/nginx/yuxiang_error.log;\n        location ~* ^.+\\.(ico|gif|jpg|jpeg|png)$ {\n                root /var/www/yuxiang.ren/public;\n                access_log   off;\n                expires      1d;\n            }\n        location ~* ^.+\\.(css|js|txt|xml|swf|wav)$ {\n            root /var/www/yuxiang.ren/public;\n            access_log   off;\n            expires      10m;\n        }\n        location / {\n            root /var/www/yuxiang.ren/public;\n            if (-f $request_filename) {\n                rewrite ^/(.*)$  /$1 break;\n            }\n        }\n    }\n```\n *也可再本地编辑好后上传到服务器*\n3. 确认无误后按下esc键,之后再按下:wq!退出. 然后执行下面命令, 注意`yuxiang.ren`的替换。(配置git仓库)\n```bash\n    ln -s /etc/nginx/sites-available/yuxiang.ren /etc/nginx/sites-enabled/`\n    cd ~\n    mkdir repos && cd repos\n    mkdir yuxiang.ren.git && cd yuxiang.ren.git\n    git init --bare\n    cd hooks\n    touch post-receive\n    vi post-receive`\n```\n4. 在出现的编辑页面中输入以下内容,注意`yuxiang.ren`的替换,然后保存退出。(hexo 部署)\n``` bash\n    #!/bin/bash -l\n    GIT_REPO=$HOME/repos/yuxiang.ren.git\n    TMP_GIT_CLONE=$HOME/tmp/git/renyuxiang.ren\n    PUBLIC_WWW=/var/www/yuxiang.ren\n    rm -rf ${TMP_GIT_CLONE}\n    git clone $GIT_REPO $TMP_GIT_CLONE\n    rm -rf ${PUBLIC_WWW}/*\n    cp -rf ${TMP_GIT_CLONE}/* ${PUBLIC_WWW}\n    cd ~\n    #cd ${PUBLIC_WWW}\n    #hexo d -fg\n    cd ~\n    exit\n```\n5. 依次执行下面命令\n * `chmod +x post-receive`\n * `cd ~`\n * `service nginx restart`\n\n### 回到本地电脑\n1. 首先进入网站根目录。\n2. 执行以下命令, 注意替换\n * `git clone root@45.32.249.14:repos/yuxiang.ren.git`; 把之前再服务器创建的仓库clone到本地\n * `git add .`\n * `git commit -m \"commit message\"`\n * `push`\n\n## 三、Blog更新\n### 创建`.m`文件\n有两种方法\n\n1. 直接创建\n2. 通过命令(推荐)\n * 进入网站目录\n * `hexo new 文章名字`\n * 用MarkDown编辑器编辑创建的文件(`/source/_posts/`下)\n\n```\n    title: title  #文章的标题\n    date: yyyy-mm-dd #创建时间\n    categories: category #分类\n    tags: tag #标签\n       \n    #多标签请这样写：tags: [tag1,tag2,tag3]\n    #或者这样写： \n     #tags: \n       #- tag1\n       #- tag2 \n       #- tag3 \n    ---  \n      \n    #正文\n```\n\n### 发布\n进入网站根目录\n```ruby\nhexo d -fg\ngit add .\ngit commit -m \"操作内容\"\ngit push\n```\n\n\n","source":"_posts/install-hexo-on-vps-and-update-with-git.md","raw":"---\ntitle: 在vps上安装hexo并且使用git更新\ndate: 2016-12-02 11:28:17\ncategories: 教程\ntags: [git, blog]\n---\n\n\n## 一、准备工作\n\n### VPS&域名\n请自行购买服务器以及域名.\n\n## 二、搭建过程\n>搭建分为两个部分:一部分在本机(Mac)进行，另一部分则在服务端(VPS)进行，大致需要完成的工作是在本机和服务器各安装一次Hexo和Git，并在服务器上安装Nginx服务器、配置Git Hooks以实现更新.并且全程使用终端命令完成。\n\n<!-- more -->\n\n### 本地电脑配置\n1. 安装Homebrew\n * `/usr/bin/ruby -e \"$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)\"`\n2. 安装Node.js\n * `brew install node`\n3. 创建网站目录\n * 在任意位置创建一个文件夹，作为网站目录，并通过 cd 命令进入文件夹。\n4. 本地电脑安装hexo\n * `npm install -g hexo-cli`\n * `hexo init`\n * `npm install`\n * `hexo d -fg`s\n * `hexo serve` *简洁写法:`hexo s`*\n \n然后访问 http://localhost:4000 如果看到网页表示Hexo配置成功\n\n### 远程服务器配置(VPS)\n**下文中的`yuxiang.ren(这是我的域名)`,`45.32.249.14(这是我的主机ip)`...请自行替换**\n\n1. 此处为Debian/Ubuntu在root用户下的操作:\n * 执行`ssh root@你的vps地址`进入主机\n * 依次执行以下命令 (安装hexo服务)\n            \n    ```bash\n     $apt-get update && apt-get upgrade -y\n     $apt-get install git-core -y\n     $curl -sL https://deb.nodesource.com/setup | bash\n     $apt-get install nodejs -y\n     $apt-get install nginx -y\n     $cd /etc/nginx/sites-available\n     $rm -rf default\n     $touch yuxiang.ren #根据自己情况替换\n     $vi yuxiang.ren #根据自己情况替换\n    ```\n2. 上面的最后一条命令输入完成后会进入编辑页面,将下面代码复制到里面(通过按i进入编辑模式)。(host监听)\n```ruby\n    server {\n        listen 45.32.249.14:80; #监听80端口\n        server_name yuxiang.ren; # 域名\n        access_log  /var/log/nginx/yuxiang_access.log;\n        error_log   /var/log/nginx/yuxiang_error.log;\n        location ~* ^.+\\.(ico|gif|jpg|jpeg|png)$ {\n                root /var/www/yuxiang.ren/public;\n                access_log   off;\n                expires      1d;\n            }\n        location ~* ^.+\\.(css|js|txt|xml|swf|wav)$ {\n            root /var/www/yuxiang.ren/public;\n            access_log   off;\n            expires      10m;\n        }\n        location / {\n            root /var/www/yuxiang.ren/public;\n            if (-f $request_filename) {\n                rewrite ^/(.*)$  /$1 break;\n            }\n        }\n    }\n```\n *也可再本地编辑好后上传到服务器*\n3. 确认无误后按下esc键,之后再按下:wq!退出. 然后执行下面命令, 注意`yuxiang.ren`的替换。(配置git仓库)\n```bash\n    ln -s /etc/nginx/sites-available/yuxiang.ren /etc/nginx/sites-enabled/`\n    cd ~\n    mkdir repos && cd repos\n    mkdir yuxiang.ren.git && cd yuxiang.ren.git\n    git init --bare\n    cd hooks\n    touch post-receive\n    vi post-receive`\n```\n4. 在出现的编辑页面中输入以下内容,注意`yuxiang.ren`的替换,然后保存退出。(hexo 部署)\n``` bash\n    #!/bin/bash -l\n    GIT_REPO=$HOME/repos/yuxiang.ren.git\n    TMP_GIT_CLONE=$HOME/tmp/git/renyuxiang.ren\n    PUBLIC_WWW=/var/www/yuxiang.ren\n    rm -rf ${TMP_GIT_CLONE}\n    git clone $GIT_REPO $TMP_GIT_CLONE\n    rm -rf ${PUBLIC_WWW}/*\n    cp -rf ${TMP_GIT_CLONE}/* ${PUBLIC_WWW}\n    cd ~\n    #cd ${PUBLIC_WWW}\n    #hexo d -fg\n    cd ~\n    exit\n```\n5. 依次执行下面命令\n * `chmod +x post-receive`\n * `cd ~`\n * `service nginx restart`\n\n### 回到本地电脑\n1. 首先进入网站根目录。\n2. 执行以下命令, 注意替换\n * `git clone root@45.32.249.14:repos/yuxiang.ren.git`; 把之前再服务器创建的仓库clone到本地\n * `git add .`\n * `git commit -m \"commit message\"`\n * `push`\n\n## 三、Blog更新\n### 创建`.m`文件\n有两种方法\n\n1. 直接创建\n2. 通过命令(推荐)\n * 进入网站目录\n * `hexo new 文章名字`\n * 用MarkDown编辑器编辑创建的文件(`/source/_posts/`下)\n\n```\n    title: title  #文章的标题\n    date: yyyy-mm-dd #创建时间\n    categories: category #分类\n    tags: tag #标签\n       \n    #多标签请这样写：tags: [tag1,tag2,tag3]\n    #或者这样写： \n     #tags: \n       #- tag1\n       #- tag2 \n       #- tag3 \n    ---  \n      \n    #正文\n```\n\n### 发布\n进入网站根目录\n```ruby\nhexo d -fg\ngit add .\ngit commit -m \"操作内容\"\ngit push\n```\n\n\n","slug":"install-hexo-on-vps-and-update-with-git","published":1,"updated":"2016-12-06T01:33:29.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwfyce6n00065kjgqmdp6gex","content":"<h2 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h2><h3 id=\"VPS-amp-域名\"><a href=\"#VPS-amp-域名\" class=\"headerlink\" title=\"VPS&amp;域名\"></a>VPS&amp;域名</h3><p>请自行购买服务器以及域名.</p>\n<h2 id=\"二、搭建过程\"><a href=\"#二、搭建过程\" class=\"headerlink\" title=\"二、搭建过程\"></a>二、搭建过程</h2><blockquote>\n<p>搭建分为两个部分:一部分在本机(Mac)进行，另一部分则在服务端(VPS)进行，大致需要完成的工作是在本机和服务器各安装一次Hexo和Git，并在服务器上安装Nginx服务器、配置Git Hooks以实现更新.并且全程使用终端命令完成。</p>\n</blockquote>\n<a id=\"more\"></a>\n<h3 id=\"本地电脑配置\"><a href=\"#本地电脑配置\" class=\"headerlink\" title=\"本地电脑配置\"></a>本地电脑配置</h3><ol>\n<li>安装Homebrew<ul>\n<li><code>/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></li>\n</ul>\n</li>\n<li>安装Node.js<ul>\n<li><code>brew install node</code></li>\n</ul>\n</li>\n<li>创建网站目录<ul>\n<li>在任意位置创建一个文件夹，作为网站目录，并通过 cd 命令进入文件夹。</li>\n</ul>\n</li>\n<li>本地电脑安装hexo<ul>\n<li><code>npm install -g hexo-cli</code></li>\n<li><code>hexo init</code></li>\n<li><code>npm install</code></li>\n<li><code>hexo d -fg</code>s</li>\n<li><code>hexo serve</code> <em>简洁写法:<code>hexo s</code></em></li>\n</ul>\n</li>\n</ol>\n<p>然后访问 <a href=\"http://localhost:4000\" target=\"_blank\" rel=\"external\">http://localhost:4000</a> 如果看到网页表示Hexo配置成功</p>\n<h3 id=\"远程服务器配置-VPS\"><a href=\"#远程服务器配置-VPS\" class=\"headerlink\" title=\"远程服务器配置(VPS)\"></a>远程服务器配置(VPS)</h3><p><strong>下文中的<code>yuxiang.ren(这是我的域名)</code>,<code>45.32.249.14(这是我的主机ip)</code>…请自行替换</strong></p>\n<ol>\n<li><p>此处为Debian/Ubuntu在root用户下的操作:</p>\n<ul>\n<li>执行<code>ssh root@你的vps地址</code>进入主机</li>\n<li><p>依次执行以下命令 (安装hexo服务)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">$apt</span>-get update &amp;&amp; apt-get upgrade -y</div><div class=\"line\"><span class=\"variable\">$apt</span>-get install git-core -y</div><div class=\"line\"><span class=\"variable\">$curl</span> <span class=\"_\">-s</span>L https://deb.nodesource.com/setup | bash</div><div class=\"line\"><span class=\"variable\">$apt</span>-get install nodejs -y</div><div class=\"line\"><span class=\"variable\">$apt</span>-get install nginx -y</div><div class=\"line\"><span class=\"variable\">$cd</span> /etc/nginx/sites-available</div><div class=\"line\"><span class=\"variable\">$rm</span> -rf default</div><div class=\"line\"><span class=\"variable\">$touch</span> yuxiang.ren <span class=\"comment\">#根据自己情况替换</span></div><div class=\"line\"><span class=\"variable\">$vi</span> yuxiang.ren <span class=\"comment\">#根据自己情况替换</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>上面的最后一条命令输入完成后会进入编辑页面,将下面代码复制到里面(通过按i进入编辑模式)。(host监听)</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\">    listen <span class=\"number\">45.32</span>.<span class=\"number\">249.14</span><span class=\"symbol\">:</span><span class=\"number\">80</span>; <span class=\"comment\">#监听80端口</span></div><div class=\"line\">    server_name yuxiang.ren; <span class=\"comment\"># 域名</span></div><div class=\"line\">    access_log  /var/log/nginx/yuxiang_access.log;</div><div class=\"line\">    error_log   /var/log/nginx/yuxiang_error.log;</div><div class=\"line\">    location ~* ^.+\\.(ico<span class=\"params\">|gif|</span>jpg<span class=\"params\">|jpeg|</span>png)$ &#123;</div><div class=\"line\">            root /var/www/yuxiang.ren/public;</div><div class=\"line\">            access_log   off;</div><div class=\"line\">            expires      <span class=\"number\">1</span>d;</div><div class=\"line\">        &#125;</div><div class=\"line\">    location ~* ^.+\\.(css<span class=\"params\">|js|</span>txt<span class=\"params\">|xml|</span>swf<span class=\"params\">|wav)$ &#123;</span></div><div class=\"line\">        root /var/www/yuxiang.ren/public;</div><div class=\"line\">        access_log   off;</div><div class=\"line\">        expires      10m;</div><div class=\"line\">    &#125;</div><div class=\"line\">    location / &#123;</div><div class=\"line\">        root /var/www/yuxiang.ren/public;</div><div class=\"line\">        <span class=\"keyword\">if</span> (-f $request_filename) &#123;</div><div class=\"line\">            rewrite ^/(.*)$  /$1 <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><em>也可再本地编辑好后上传到服务器</em></p>\n</li>\n<li><p>确认无误后按下esc键,之后再按下:wq!退出. 然后执行下面命令, 注意<code>yuxiang.ren</code>的替换。(配置git仓库)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">ln <span class=\"_\">-s</span> /etc/nginx/sites-available/yuxiang.ren /etc/nginx/sites-enabled/`</div><div class=\"line\"><span class=\"built_in\">cd</span> ~</div><div class=\"line\">mkdir repos &amp;&amp; <span class=\"built_in\">cd</span> repos</div><div class=\"line\">mkdir yuxiang.ren.git &amp;&amp; <span class=\"built_in\">cd</span> yuxiang.ren.git</div><div class=\"line\">git init --bare</div><div class=\"line\"><span class=\"built_in\">cd</span> hooks</div><div class=\"line\">touch post-receive</div><div class=\"line\">vi post-receive`</div></pre></td></tr></table></figure>\n</li>\n<li><p>在出现的编辑页面中输入以下内容,注意<code>yuxiang.ren</code>的替换,然后保存退出。(hexo 部署)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">#!/bin/bash -l</span></div><div class=\"line\">GIT_REPO=<span class=\"variable\">$HOME</span>/repos/yuxiang.ren.git</div><div class=\"line\">TMP_GIT_CLONE=<span class=\"variable\">$HOME</span>/tmp/git/renyuxiang.ren</div><div class=\"line\">PUBLIC_WWW=/var/www/yuxiang.ren</div><div class=\"line\">rm -rf <span class=\"variable\">$&#123;TMP_GIT_CLONE&#125;</span></div><div class=\"line\">git <span class=\"built_in\">clone</span> <span class=\"variable\">$GIT_REPO</span> <span class=\"variable\">$TMP_GIT_CLONE</span></div><div class=\"line\">rm -rf <span class=\"variable\">$&#123;PUBLIC_WWW&#125;</span>/*</div><div class=\"line\">cp -rf <span class=\"variable\">$&#123;TMP_GIT_CLONE&#125;</span>/* <span class=\"variable\">$&#123;PUBLIC_WWW&#125;</span></div><div class=\"line\"><span class=\"built_in\">cd</span> ~</div><div class=\"line\"><span class=\"comment\">#cd $&#123;PUBLIC_WWW&#125;</span></div><div class=\"line\"><span class=\"comment\">#hexo d -fg</span></div><div class=\"line\"><span class=\"built_in\">cd</span> ~</div><div class=\"line\"><span class=\"built_in\">exit</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>依次执行下面命令</p>\n<ul>\n<li><code>chmod +x post-receive</code></li>\n<li><code>cd ~</code></li>\n<li><code>service nginx restart</code></li>\n</ul>\n</li>\n</ol>\n<h3 id=\"回到本地电脑\"><a href=\"#回到本地电脑\" class=\"headerlink\" title=\"回到本地电脑\"></a>回到本地电脑</h3><ol>\n<li>首先进入网站根目录。</li>\n<li>执行以下命令, 注意替换<ul>\n<li><code>git clone root@45.32.249.14:repos/yuxiang.ren.git</code>; 把之前再服务器创建的仓库clone到本地</li>\n<li><code>git add .</code></li>\n<li><code>git commit -m &quot;commit message&quot;</code></li>\n<li><code>push</code></li>\n</ul>\n</li>\n</ol>\n<h2 id=\"三、Blog更新\"><a href=\"#三、Blog更新\" class=\"headerlink\" title=\"三、Blog更新\"></a>三、Blog更新</h2><h3 id=\"创建-m文件\"><a href=\"#创建-m文件\" class=\"headerlink\" title=\"创建.m文件\"></a>创建<code>.m</code>文件</h3><p>有两种方法</p>\n<ol>\n<li>直接创建</li>\n<li>通过命令(推荐)<ul>\n<li>进入网站目录</li>\n<li><code>hexo new 文章名字</code></li>\n<li>用MarkDown编辑器编辑创建的文件(<code>/source/_posts/</code>下)</li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">title: title  #文章的标题</div><div class=\"line\">date: yyyy-mm-dd #创建时间</div><div class=\"line\">categories: category #分类</div><div class=\"line\">tags: tag #标签</div><div class=\"line\">   </div><div class=\"line\">#多标签请这样写：tags: [tag1,tag2,tag3]</div><div class=\"line\">#或者这样写： </div><div class=\"line\"> #tags: </div><div class=\"line\">   #- tag1</div><div class=\"line\">   #- tag2 </div><div class=\"line\">   #- tag3 </div><div class=\"line\">---  </div><div class=\"line\">  </div><div class=\"line\">#正文</div></pre></td></tr></table></figure>\n<h3 id=\"发布\"><a href=\"#发布\" class=\"headerlink\" title=\"发布\"></a>发布</h3><p>进入网站根目录<br><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo d -fg</div><div class=\"line\">git add .</div><div class=\"line\">git commit -m <span class=\"string\">\"操作内容\"</span></div><div class=\"line\">git push</div></pre></td></tr></table></figure></p>\n","excerpt":"<h2 id=\"一、准备工作\"><a href=\"#一、准备工作\" class=\"headerlink\" title=\"一、准备工作\"></a>一、准备工作</h2><h3 id=\"VPS-amp-域名\"><a href=\"#VPS-amp-域名\" class=\"headerlink\" title=\"VPS&amp;域名\"></a>VPS&amp;域名</h3><p>请自行购买服务器以及域名.</p>\n<h2 id=\"二、搭建过程\"><a href=\"#二、搭建过程\" class=\"headerlink\" title=\"二、搭建过程\"></a>二、搭建过程</h2><blockquote>\n<p>搭建分为两个部分:一部分在本机(Mac)进行，另一部分则在服务端(VPS)进行，大致需要完成的工作是在本机和服务器各安装一次Hexo和Git，并在服务器上安装Nginx服务器、配置Git Hooks以实现更新.并且全程使用终端命令完成。</p>\n</blockquote>","more":"<h3 id=\"本地电脑配置\"><a href=\"#本地电脑配置\" class=\"headerlink\" title=\"本地电脑配置\"></a>本地电脑配置</h3><ol>\n<li>安装Homebrew<ul>\n<li><code>/usr/bin/ruby -e &quot;$(curl -fsSL https://raw.githubusercontent.com/Homebrew/install/master/install)&quot;</code></li>\n</ul>\n</li>\n<li>安装Node.js<ul>\n<li><code>brew install node</code></li>\n</ul>\n</li>\n<li>创建网站目录<ul>\n<li>在任意位置创建一个文件夹，作为网站目录，并通过 cd 命令进入文件夹。</li>\n</ul>\n</li>\n<li>本地电脑安装hexo<ul>\n<li><code>npm install -g hexo-cli</code></li>\n<li><code>hexo init</code></li>\n<li><code>npm install</code></li>\n<li><code>hexo d -fg</code>s</li>\n<li><code>hexo serve</code> <em>简洁写法:<code>hexo s</code></em></li>\n</ul>\n</li>\n</ol>\n<p>然后访问 <a href=\"http://localhost:4000\">http://localhost:4000</a> 如果看到网页表示Hexo配置成功</p>\n<h3 id=\"远程服务器配置-VPS\"><a href=\"#远程服务器配置-VPS\" class=\"headerlink\" title=\"远程服务器配置(VPS)\"></a>远程服务器配置(VPS)</h3><p><strong>下文中的<code>yuxiang.ren(这是我的域名)</code>,<code>45.32.249.14(这是我的主机ip)</code>…请自行替换</strong></p>\n<ol>\n<li><p>此处为Debian/Ubuntu在root用户下的操作:</p>\n<ul>\n<li>执行<code>ssh root@你的vps地址</code>进入主机</li>\n<li><p>依次执行以下命令 (安装hexo服务)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"variable\">$apt</span>-get update &amp;&amp; apt-get upgrade -y</div><div class=\"line\"><span class=\"variable\">$apt</span>-get install git-core -y</div><div class=\"line\"><span class=\"variable\">$curl</span> <span class=\"_\">-s</span>L https://deb.nodesource.com/setup | bash</div><div class=\"line\"><span class=\"variable\">$apt</span>-get install nodejs -y</div><div class=\"line\"><span class=\"variable\">$apt</span>-get install nginx -y</div><div class=\"line\"><span class=\"variable\">$cd</span> /etc/nginx/sites-available</div><div class=\"line\"><span class=\"variable\">$rm</span> -rf default</div><div class=\"line\"><span class=\"variable\">$touch</span> yuxiang.ren <span class=\"comment\">#根据自己情况替换</span></div><div class=\"line\"><span class=\"variable\">$vi</span> yuxiang.ren <span class=\"comment\">#根据自己情况替换</span></div></pre></td></tr></table></figure>\n</li>\n</ul>\n</li>\n<li><p>上面的最后一条命令输入完成后会进入编辑页面,将下面代码复制到里面(通过按i进入编辑模式)。(host监听)</p>\n<figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div></pre></td><td class=\"code\"><pre><div class=\"line\">server &#123;</div><div class=\"line\">    listen <span class=\"number\">45.32</span>.<span class=\"number\">249.14</span><span class=\"symbol\">:</span><span class=\"number\">80</span>; <span class=\"comment\">#监听80端口</span></div><div class=\"line\">    server_name yuxiang.ren; <span class=\"comment\"># 域名</span></div><div class=\"line\">    access_log  /var/log/nginx/yuxiang_access.log;</div><div class=\"line\">    error_log   /var/log/nginx/yuxiang_error.log;</div><div class=\"line\">    location ~* ^.+\\.(ico<span class=\"params\">|gif|</span>jpg<span class=\"params\">|jpeg|</span>png)$ &#123;</div><div class=\"line\">            root /var/www/yuxiang.ren/public;</div><div class=\"line\">            access_log   off;</div><div class=\"line\">            expires      <span class=\"number\">1</span>d;</div><div class=\"line\">        &#125;</div><div class=\"line\">    location ~* ^.+\\.(css<span class=\"params\">|js|</span>txt<span class=\"params\">|xml|</span>swf<span class=\"params\">|wav)$ &#123;</div><div class=\"line\">        root /var/www/yuxiang.ren/public;</div><div class=\"line\">        access_log   off;</div><div class=\"line\">        expires      10m;</div><div class=\"line\">    &#125;</div><div class=\"line\">    location / &#123;</div><div class=\"line\">        root /var/www/yuxiang.ren/public;</div><div class=\"line\">        <span class=\"keyword\">if</span> (-f $request_filename) &#123;</div><div class=\"line\">            rewrite ^/(.*)$  /$1 <span class=\"keyword\">break</span>;</div><div class=\"line\">        &#125;</div><div class=\"line\">    &#125;</div><div class=\"line\">&#125;</span></div></pre></td></tr></table></figure>\n<p><em>也可再本地编辑好后上传到服务器</em></p>\n</li>\n<li><p>确认无误后按下esc键,之后再按下:wq!退出. 然后执行下面命令, 注意<code>yuxiang.ren</code>的替换。(配置git仓库)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">ln <span class=\"_\">-s</span> /etc/nginx/sites-available/yuxiang.ren /etc/nginx/sites-enabled/`</div><div class=\"line\"><span class=\"built_in\">cd</span> ~</div><div class=\"line\">mkdir repos &amp;&amp; <span class=\"built_in\">cd</span> repos</div><div class=\"line\">mkdir yuxiang.ren.git &amp;&amp; <span class=\"built_in\">cd</span> yuxiang.ren.git</div><div class=\"line\">git init --bare</div><div class=\"line\"><span class=\"built_in\">cd</span> hooks</div><div class=\"line\">touch post-receive</div><div class=\"line\">vi post-receive`</div></pre></td></tr></table></figure>\n</li>\n<li><p>在出现的编辑页面中输入以下内容,注意<code>yuxiang.ren</code>的替换,然后保存退出。(hexo 部署)</p>\n<figure class=\"highlight bash\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\">#!/bin/bash -l</span></div><div class=\"line\">GIT_REPO=<span class=\"variable\">$HOME</span>/repos/yuxiang.ren.git</div><div class=\"line\">TMP_GIT_CLONE=<span class=\"variable\">$HOME</span>/tmp/git/renyuxiang.ren</div><div class=\"line\">PUBLIC_WWW=/var/www/yuxiang.ren</div><div class=\"line\">rm -rf <span class=\"variable\">$&#123;TMP_GIT_CLONE&#125;</span></div><div class=\"line\">git <span class=\"built_in\">clone</span> <span class=\"variable\">$GIT_REPO</span> <span class=\"variable\">$TMP_GIT_CLONE</span></div><div class=\"line\">rm -rf <span class=\"variable\">$&#123;PUBLIC_WWW&#125;</span>/*</div><div class=\"line\">cp -rf <span class=\"variable\">$&#123;TMP_GIT_CLONE&#125;</span>/* <span class=\"variable\">$&#123;PUBLIC_WWW&#125;</span></div><div class=\"line\"><span class=\"built_in\">cd</span> ~</div><div class=\"line\"><span class=\"comment\">#cd $&#123;PUBLIC_WWW&#125;</span></div><div class=\"line\"><span class=\"comment\">#hexo d -fg</span></div><div class=\"line\"><span class=\"built_in\">cd</span> ~</div><div class=\"line\"><span class=\"built_in\">exit</span></div></pre></td></tr></table></figure>\n</li>\n<li><p>依次执行下面命令</p>\n<ul>\n<li><code>chmod +x post-receive</code></li>\n<li><code>cd ~</code></li>\n<li><code>service nginx restart</code></li>\n</ul>\n</li>\n</ol>\n<h3 id=\"回到本地电脑\"><a href=\"#回到本地电脑\" class=\"headerlink\" title=\"回到本地电脑\"></a>回到本地电脑</h3><ol>\n<li>首先进入网站根目录。</li>\n<li>执行以下命令, 注意替换<ul>\n<li><code>git clone root@45.32.249.14:repos/yuxiang.ren.git</code>; 把之前再服务器创建的仓库clone到本地</li>\n<li><code>git add .</code></li>\n<li><code>git commit -m &quot;commit message&quot;</code></li>\n<li><code>push</code></li>\n</ul>\n</li>\n</ol>\n<h2 id=\"三、Blog更新\"><a href=\"#三、Blog更新\" class=\"headerlink\" title=\"三、Blog更新\"></a>三、Blog更新</h2><h3 id=\"创建-m文件\"><a href=\"#创建-m文件\" class=\"headerlink\" title=\"创建.m文件\"></a>创建<code>.m</code>文件</h3><p>有两种方法</p>\n<ol>\n<li>直接创建</li>\n<li>通过命令(推荐)<ul>\n<li>进入网站目录</li>\n<li><code>hexo new 文章名字</code></li>\n<li>用MarkDown编辑器编辑创建的文件(<code>/source/_posts/</code>下)</li>\n</ul>\n</li>\n</ol>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div></pre></td><td class=\"code\"><pre><div class=\"line\">title: title  #文章的标题</div><div class=\"line\">date: yyyy-mm-dd #创建时间</div><div class=\"line\">categories: category #分类</div><div class=\"line\">tags: tag #标签</div><div class=\"line\">   </div><div class=\"line\">#多标签请这样写：tags: [tag1,tag2,tag3]</div><div class=\"line\">#或者这样写： </div><div class=\"line\"> #tags: </div><div class=\"line\">   #- tag1</div><div class=\"line\">   #- tag2 </div><div class=\"line\">   #- tag3 </div><div class=\"line\">---  </div><div class=\"line\">  </div><div class=\"line\">#正文</div></pre></td></tr></table></figure>\n<h3 id=\"发布\"><a href=\"#发布\" class=\"headerlink\" title=\"发布\"></a>发布</h3><p>进入网站根目录<br><figure class=\"highlight ruby\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\">hexo d -fg</div><div class=\"line\">git add .</div><div class=\"line\">git commit -m <span class=\"string\">\"操作内容\"</span></div><div class=\"line\">git push</div></pre></td></tr></table></figure></p>"},{"title":"hexo安装huno主题","date":"2016-12-02T01:40:39.000Z","_content":"\n# Huno\n\nHuno是为[Hexo](http://hexo.io/)编写的一个响应式的主题，该主题基于[Uno](https://github.com/daleanthony/uno/)。\n\n<!-- more -->\n\n## Demo\n\n[Huno's demo](https://yuxiang.ren)\n\n## 安装\n\n```plain\n$ git clone git://github.com/someus/huno.git themes/huno\n```\n\n修改Hexo的配置文件`_config.xml`：\n\n```plain\ntheme: huno\n```\n\n\n## 兼容性\n在Hexo 3.1.1测试正常。\n\n## 配置示例\n\n```ruby\n# Header\nmenu:\n  博客: /#blog\n  归档: /archive\n  关于: /about\n  主页: # your home page\n\n# Site favicon\nfavicon: /images/favicon.ico\n\n# 头像\navatar: /images/avatar.jpg\n\n# apple touch icon\nappleTouchIcon: /images/apple-touch-icon.png\n\n# Enable Mathjax\nmathjax: true\n\n# Enable awesome-toc\nawesome_toc: true\n\n# Enable githubRepoWidget\ngithub_repo_widget: false\n\n```\n\nmenu中定义`/#blog`是必须的，示例中的`/about`和`/archive`是两个页面。`/archive`会在下面的**归档页面**中介绍。\n\n**mathjax:**\n\n数学公式支持。其设置（layout/_scripts/mathjax.ejs）如下：\n\n```\n$(document).ready(function(){\n    MathJax.Hub.Config({ \n        tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\\\(','\\\\)']]} \n    });\n});\n```\n\n官网：[mathjax](https://www.mathjax.org/)\n\n\n**awesome_toc:**\n\n为文章生成目录。\n\n官网：[awesome-toc](https://github.com/someus/awesome-toc)\n\n**github_repo_widget:**\n\n可视化显示github中的项目。\n\n官网：[GitHub-jQuery-Repo-Widget](https://github.com/JoelSutherland/GitHub-jQuery-Repo-Widget)\n\n\n## 侧边栏图片\n侧边栏图片URL定义在`source/css/uno.css`中下面的这段代码中：\n\n```css\n.panel-cover {\n  display: block;\n  position: fixed;\n  z-index: 900;\n  width: 100%;\n  max-width: none;\n  height: 100%;\n  background: url(../images/background-cover.jpg) top left no-repeat #666666;\n  background-size: cover; }\n```\n\n可以看出图片路径是`source/images/background-cover.jpg`。可以根据需要替换成不同的图片，或者修改图片URL。例如修改成CDN中的某个图片（[#28](https://github.com/someus/huno/pull/28)）：\n\n```\nbackground: url(\"http://ww4.sinaimg.cn/mw690/6a80ef0fgw1fac749wvfij21hc0xch6b.jpg\") top left no-repeat #666666;\n```\n\n\n## 归档页面\n归档页面会显示分类、标签云以及基于日期的归档。\n\n在主题的配置文件`_config.yml`中：\n\n```yaml\n# Header\nmenu:\n  首页: /#blog\n  归档: /archive\n  关于: /about\n```\n\n创建新的page：\n\n```plain\n$ hexo new page archive\n$ cd source/archive\n$ vim index.md\n```\n\n内容修改为：\n\n```\ntitle: 归档\nlayout: page-archive\n---\n```\n\n> !! hexo 默认有一个`/archives`，如果您认为归档页面的url（`/archive`）和这个冲突，可以选更加合适的名称:blush:。\n\n\n## 评论\n支持Disqus和多说，在Hexo配置文件`_config.yml`中设置名称即可，例如：\n\n```yaml\n# Disqus\ndisqus_shortname: letian\n\n# Duoshuo\nduoshuo_shortname: letian\n```\n\n> !!! 如果两个都设置，则两个评论工具都会显示。\n\n## Social Icon\n默认提供了Github的图标，Github用户名请在Hexo的配置文件`_config.yml`中配置，例如：\n\n```yaml\n# Social\nsocial:\n  github: someus\n```\n\n可以根据需要在`layout/_partials/social.ejs`中添加更多的图标。\n\n\n## China Social Icon\n> 这套字体来自 [设计素材：国内常用社交图标的web字体](http://www.zcool.com.cn/gfx/ZMzM1MjEy.html)， 版权归原作者所有。在huno中CSS文件做了些修改。\n\n这套字体和上面`Social Icon`的设计得并不一样，如果混用，排版效果会略差。例如，在`layout/_partials/social.ejs`加上：\n\n```\n<li class=\"navigation__item\">\n  <a href=\"\" title=\"\">\n    <i class='icon cs-icon-douban'></i>\n    <span class=\"label\">Douban</span>\n  </a>\n</li>\n\n<li class=\"navigation__item\">\n  <a href=\"\" title=\"\">\n    <i class='icon cs-icon-weibo'></i>\n    <span class=\"label\">Weibo</span>\n  </a>\n</li>\n```\n\n效果如下：\n\n![](./cs-icon.png)\n\n字体文件位于`source/fonts/china-social/`中，对应的css文件是`source/css/china-social-icon.css`。\n\n\n## 网站统计\n将网站统计（如Google analysis、CNZZ、百度统计等）代码放入`layout/_scripts/site-analytics.ejs`即可。\n\n## 如何将Huno生成的静态网站放在某网站子目录\n\n例如要将其放入`http://hi.letiantian.me/huno/`下，则需要：\n\n**修改Hexo配置文件`_config.yml`:**\n\n```yaml\n# URL\n## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'\nurl: http://hi.letiantian.me/huno\nroot: /huno/\n```\n\n**修改主题的配置文件`_config.yml`:**\n\n```yaml\n# Header\nmenu:\n  首页: /huno/#blog\n  关于: /huno/about\n  归档: /huno/archive\n\n# Site favicon\nfavicon: /huno/favicon.png\n```\n\n**修改`huno/source/js/main.js`:**\n\n将\n\n```js\nif (window.location.pathname != \"/\") {\n  $('.panel-cover').addClass('panel-cover--collapsed');\n}\n```\n\n修改为\n\n```js\nif (window.location.pathname != \"/huno/\") {\n  $('.panel-cover').addClass('panel-cover--collapsed');\n}\n```\n\n**修改`huno/layout/_partials/side-panel.ejs`:**\n\n将\n\n```plain\n<% for (var i in theme.menu){ %>\n  <%\n    if (theme.menu[i]+'' == '/#blog') {\n      nav_btn_class = 'blog-button';\n    } else {\n      nav_btn_class = '';\n    }\n  %>\n```\n\n修改为：\n\n```plain\n<% for (var i in theme.menu){ %>\n  <%\n    if (theme.menu[i]+'' == '/huno/#blog') {\n      nav_btn_class = 'blog-button';\n    } else {\n      nav_btn_class = '';\n    }\n  %>\n```\n\n## 其他\n\n如果在中国大陆使用该主题后，访问速度变慢，可以考虑注释掉`source/css/uno.css`的第一行。\n\n","source":"_posts/install-huno-theme.md","raw":"---\ntitle: hexo安装huno主题\ndate: 2016-12-02 09:40:39\ncategories: 教程\ntags: blog\n---\n\n# Huno\n\nHuno是为[Hexo](http://hexo.io/)编写的一个响应式的主题，该主题基于[Uno](https://github.com/daleanthony/uno/)。\n\n<!-- more -->\n\n## Demo\n\n[Huno's demo](https://yuxiang.ren)\n\n## 安装\n\n```plain\n$ git clone git://github.com/someus/huno.git themes/huno\n```\n\n修改Hexo的配置文件`_config.xml`：\n\n```plain\ntheme: huno\n```\n\n\n## 兼容性\n在Hexo 3.1.1测试正常。\n\n## 配置示例\n\n```ruby\n# Header\nmenu:\n  博客: /#blog\n  归档: /archive\n  关于: /about\n  主页: # your home page\n\n# Site favicon\nfavicon: /images/favicon.ico\n\n# 头像\navatar: /images/avatar.jpg\n\n# apple touch icon\nappleTouchIcon: /images/apple-touch-icon.png\n\n# Enable Mathjax\nmathjax: true\n\n# Enable awesome-toc\nawesome_toc: true\n\n# Enable githubRepoWidget\ngithub_repo_widget: false\n\n```\n\nmenu中定义`/#blog`是必须的，示例中的`/about`和`/archive`是两个页面。`/archive`会在下面的**归档页面**中介绍。\n\n**mathjax:**\n\n数学公式支持。其设置（layout/_scripts/mathjax.ejs）如下：\n\n```\n$(document).ready(function(){\n    MathJax.Hub.Config({ \n        tex2jax: {inlineMath: [['[latex]','[/latex]'], ['\\\\(','\\\\)']]} \n    });\n});\n```\n\n官网：[mathjax](https://www.mathjax.org/)\n\n\n**awesome_toc:**\n\n为文章生成目录。\n\n官网：[awesome-toc](https://github.com/someus/awesome-toc)\n\n**github_repo_widget:**\n\n可视化显示github中的项目。\n\n官网：[GitHub-jQuery-Repo-Widget](https://github.com/JoelSutherland/GitHub-jQuery-Repo-Widget)\n\n\n## 侧边栏图片\n侧边栏图片URL定义在`source/css/uno.css`中下面的这段代码中：\n\n```css\n.panel-cover {\n  display: block;\n  position: fixed;\n  z-index: 900;\n  width: 100%;\n  max-width: none;\n  height: 100%;\n  background: url(../images/background-cover.jpg) top left no-repeat #666666;\n  background-size: cover; }\n```\n\n可以看出图片路径是`source/images/background-cover.jpg`。可以根据需要替换成不同的图片，或者修改图片URL。例如修改成CDN中的某个图片（[#28](https://github.com/someus/huno/pull/28)）：\n\n```\nbackground: url(\"http://ww4.sinaimg.cn/mw690/6a80ef0fgw1fac749wvfij21hc0xch6b.jpg\") top left no-repeat #666666;\n```\n\n\n## 归档页面\n归档页面会显示分类、标签云以及基于日期的归档。\n\n在主题的配置文件`_config.yml`中：\n\n```yaml\n# Header\nmenu:\n  首页: /#blog\n  归档: /archive\n  关于: /about\n```\n\n创建新的page：\n\n```plain\n$ hexo new page archive\n$ cd source/archive\n$ vim index.md\n```\n\n内容修改为：\n\n```\ntitle: 归档\nlayout: page-archive\n---\n```\n\n> !! hexo 默认有一个`/archives`，如果您认为归档页面的url（`/archive`）和这个冲突，可以选更加合适的名称:blush:。\n\n\n## 评论\n支持Disqus和多说，在Hexo配置文件`_config.yml`中设置名称即可，例如：\n\n```yaml\n# Disqus\ndisqus_shortname: letian\n\n# Duoshuo\nduoshuo_shortname: letian\n```\n\n> !!! 如果两个都设置，则两个评论工具都会显示。\n\n## Social Icon\n默认提供了Github的图标，Github用户名请在Hexo的配置文件`_config.yml`中配置，例如：\n\n```yaml\n# Social\nsocial:\n  github: someus\n```\n\n可以根据需要在`layout/_partials/social.ejs`中添加更多的图标。\n\n\n## China Social Icon\n> 这套字体来自 [设计素材：国内常用社交图标的web字体](http://www.zcool.com.cn/gfx/ZMzM1MjEy.html)， 版权归原作者所有。在huno中CSS文件做了些修改。\n\n这套字体和上面`Social Icon`的设计得并不一样，如果混用，排版效果会略差。例如，在`layout/_partials/social.ejs`加上：\n\n```\n<li class=\"navigation__item\">\n  <a href=\"\" title=\"\">\n    <i class='icon cs-icon-douban'></i>\n    <span class=\"label\">Douban</span>\n  </a>\n</li>\n\n<li class=\"navigation__item\">\n  <a href=\"\" title=\"\">\n    <i class='icon cs-icon-weibo'></i>\n    <span class=\"label\">Weibo</span>\n  </a>\n</li>\n```\n\n效果如下：\n\n![](./cs-icon.png)\n\n字体文件位于`source/fonts/china-social/`中，对应的css文件是`source/css/china-social-icon.css`。\n\n\n## 网站统计\n将网站统计（如Google analysis、CNZZ、百度统计等）代码放入`layout/_scripts/site-analytics.ejs`即可。\n\n## 如何将Huno生成的静态网站放在某网站子目录\n\n例如要将其放入`http://hi.letiantian.me/huno/`下，则需要：\n\n**修改Hexo配置文件`_config.yml`:**\n\n```yaml\n# URL\n## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'\nurl: http://hi.letiantian.me/huno\nroot: /huno/\n```\n\n**修改主题的配置文件`_config.yml`:**\n\n```yaml\n# Header\nmenu:\n  首页: /huno/#blog\n  关于: /huno/about\n  归档: /huno/archive\n\n# Site favicon\nfavicon: /huno/favicon.png\n```\n\n**修改`huno/source/js/main.js`:**\n\n将\n\n```js\nif (window.location.pathname != \"/\") {\n  $('.panel-cover').addClass('panel-cover--collapsed');\n}\n```\n\n修改为\n\n```js\nif (window.location.pathname != \"/huno/\") {\n  $('.panel-cover').addClass('panel-cover--collapsed');\n}\n```\n\n**修改`huno/layout/_partials/side-panel.ejs`:**\n\n将\n\n```plain\n<% for (var i in theme.menu){ %>\n  <%\n    if (theme.menu[i]+'' == '/#blog') {\n      nav_btn_class = 'blog-button';\n    } else {\n      nav_btn_class = '';\n    }\n  %>\n```\n\n修改为：\n\n```plain\n<% for (var i in theme.menu){ %>\n  <%\n    if (theme.menu[i]+'' == '/huno/#blog') {\n      nav_btn_class = 'blog-button';\n    } else {\n      nav_btn_class = '';\n    }\n  %>\n```\n\n## 其他\n\n如果在中国大陆使用该主题后，访问速度变慢，可以考虑注释掉`source/css/uno.css`的第一行。\n\n","slug":"install-huno-theme","published":1,"updated":"2016-12-06T01:33:12.000Z","comments":1,"layout":"post","photos":[],"link":"","_id":"ciwfyce6s00095kjgk6zmvajk","content":"<h1 id=\"Huno\"><a href=\"#Huno\" class=\"headerlink\" title=\"Huno\"></a>Huno</h1><p>Huno是为<a href=\"http://hexo.io/\" target=\"_blank\" rel=\"external\">Hexo</a>编写的一个响应式的主题，该主题基于<a href=\"https://github.com/daleanthony/uno/\" target=\"_blank\" rel=\"external\">Uno</a>。</p>\n<a id=\"more\"></a>\n<h2 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h2><p><a href=\"https://yuxiang.ren\">Huno’s demo</a></p>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ git clone git://github.com/someus/huno.git themes/huno</div></pre></td></tr></table></figure>\n<p>修改Hexo的配置文件<code>_config.xml</code>：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">theme: huno</div></pre></td></tr></table></figure>\n<h2 id=\"兼容性\"><a href=\"#兼容性\" class=\"headerlink\" title=\"兼容性\"></a>兼容性</h2><p>在Hexo 3.1.1测试正常。</p>\n<h2 id=\"配置示例\"><a href=\"#配置示例\" class=\"headerlink\" title=\"配置示例\"></a>配置示例</h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Header</div><div class=\"line\">menu:</div><div class=\"line\">  博客: /#blog</div><div class=\"line\">  归档: /archive</div><div class=\"line\">  关于: /about</div><div class=\"line\">  主页: # your home page</div><div class=\"line\"></div><div class=\"line\"># Site favicon</div><div class=\"line\">favicon: /images/favicon.ico</div><div class=\"line\"></div><div class=\"line\"># 头像</div><div class=\"line\">avatar: /images/avatar.jpg</div><div class=\"line\"></div><div class=\"line\"># apple touch icon</div><div class=\"line\">appleTouchIcon: /images/apple-touch-icon.png</div><div class=\"line\"></div><div class=\"line\"># Enable Mathjax</div><div class=\"line\">mathjax: true</div><div class=\"line\"></div><div class=\"line\"># Enable awesome-toc</div><div class=\"line\">awesome_toc: true</div><div class=\"line\"></div><div class=\"line\"># Enable githubRepoWidget</div><div class=\"line\">github_repo_widget: false</div></pre></td></tr></table></figure>\n<p>menu中定义<code>/#blog</code>是必须的，示例中的<code>/about</code>和<code>/archive</code>是两个页面。<code>/archive</code>会在下面的<strong>归档页面</strong>中介绍。</p>\n<p><strong>mathjax:</strong></p>\n<p>数学公式支持。其设置（layout/_scripts/mathjax.ejs）如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(document).ready(function()&#123;</div><div class=\"line\">    MathJax.Hub.Config(&#123; </div><div class=\"line\">        tex2jax: &#123;inlineMath: [[&apos;[latex]&apos;,&apos;[/latex]&apos;], [&apos;\\\\(&apos;,&apos;\\\\)&apos;]]&#125; </div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>官网：<a href=\"https://www.mathjax.org/\" target=\"_blank\" rel=\"external\">mathjax</a></p>\n<p><strong>awesome_toc:</strong></p>\n<p>为文章生成目录。</p>\n<p>官网：<a href=\"https://github.com/someus/awesome-toc\" target=\"_blank\" rel=\"external\">awesome-toc</a></p>\n<p><strong>github_repo_widget:</strong></p>\n<p>可视化显示github中的项目。</p>\n<p>官网：<a href=\"https://github.com/JoelSutherland/GitHub-jQuery-Repo-Widget\" target=\"_blank\" rel=\"external\">GitHub-jQuery-Repo-Widget</a></p>\n<h2 id=\"侧边栏图片\"><a href=\"#侧边栏图片\" class=\"headerlink\" title=\"侧边栏图片\"></a>侧边栏图片</h2><p>侧边栏图片URL定义在<code>source/css/uno.css</code>中下面的这段代码中：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.panel-cover</span> &#123;</div><div class=\"line\">  <span class=\"attribute\">display</span>: block;</div><div class=\"line\">  <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">900</span>;</div><div class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</div><div class=\"line\">  <span class=\"attribute\">max-width</span>: none;</div><div class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</div><div class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">url</span>(../images/background-cover.jpg) top left no-repeat <span class=\"number\">#666666</span>;</div><div class=\"line\">  <span class=\"attribute\">background-size</span>: cover; &#125;</div></pre></td></tr></table></figure>\n<p>可以看出图片路径是<code>source/images/background-cover.jpg</code>。可以根据需要替换成不同的图片，或者修改图片URL。例如修改成CDN中的某个图片（<a href=\"https://github.com/someus/huno/pull/28\" target=\"_blank\" rel=\"external\">#28</a>）：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">background: url(&quot;http://ww4.sinaimg.cn/mw690/6a80ef0fgw1fac749wvfij21hc0xch6b.jpg&quot;) top left no-repeat #666666;</div></pre></td></tr></table></figure>\n<h2 id=\"归档页面\"><a href=\"#归档页面\" class=\"headerlink\" title=\"归档页面\"></a>归档页面</h2><p>归档页面会显示分类、标签云以及基于日期的归档。</p>\n<p>在主题的配置文件<code>_config.yml</code>中：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Header</span></div><div class=\"line\"><span class=\"attr\">menu:</span></div><div class=\"line\">  首页: /<span class=\"comment\">#blog</span></div><div class=\"line\">  归档: /archive</div><div class=\"line\">  关于: /about</div></pre></td></tr></table></figure>\n<p>创建新的page：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new page archive</div><div class=\"line\">$ cd source/archive</div><div class=\"line\">$ vim index.md</div></pre></td></tr></table></figure>\n<p>内容修改为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">title: 归档</div><div class=\"line\">layout: page-archive</div><div class=\"line\">---</div></pre></td></tr></table></figure>\n<blockquote>\n<p>!! hexo 默认有一个<code>/archives</code>，如果您认为归档页面的url（<code>/archive</code>）和这个冲突，可以选更加合适的名称:blush:。</p>\n</blockquote>\n<h2 id=\"评论\"><a href=\"#评论\" class=\"headerlink\" title=\"评论\"></a>评论</h2><p>支持Disqus和多说，在Hexo配置文件<code>_config.yml</code>中设置名称即可，例如：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Disqus</span></div><div class=\"line\"><span class=\"attr\">disqus_shortname:</span> letian</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Duoshuo</span></div><div class=\"line\"><span class=\"attr\">duoshuo_shortname:</span> letian</div></pre></td></tr></table></figure>\n<blockquote>\n<p>!!! 如果两个都设置，则两个评论工具都会显示。</p>\n</blockquote>\n<h2 id=\"Social-Icon\"><a href=\"#Social-Icon\" class=\"headerlink\" title=\"Social Icon\"></a>Social Icon</h2><p>默认提供了Github的图标，Github用户名请在Hexo的配置文件<code>_config.yml</code>中配置，例如：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Social</span></div><div class=\"line\"><span class=\"attr\">social:</span></div><div class=\"line\"><span class=\"attr\">  github:</span> someus</div></pre></td></tr></table></figure>\n<p>可以根据需要在<code>layout/_partials/social.ejs</code>中添加更多的图标。</p>\n<h2 id=\"China-Social-Icon\"><a href=\"#China-Social-Icon\" class=\"headerlink\" title=\"China Social Icon\"></a>China Social Icon</h2><blockquote>\n<p>这套字体来自 <a href=\"http://www.zcool.com.cn/gfx/ZMzM1MjEy.html\" target=\"_blank\" rel=\"external\">设计素材：国内常用社交图标的web字体</a>， 版权归原作者所有。在huno中CSS文件做了些修改。</p>\n</blockquote>\n<p>这套字体和上面<code>Social Icon</code>的设计得并不一样，如果混用，排版效果会略差。例如，在<code>layout/_partials/social.ejs</code>加上：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;li class=&quot;navigation__item&quot;&gt;</div><div class=\"line\">  &lt;a href=&quot;&quot; title=&quot;&quot;&gt;</div><div class=\"line\">    &lt;i class=&apos;icon cs-icon-douban&apos;&gt;&lt;/i&gt;</div><div class=\"line\">    &lt;span class=&quot;label&quot;&gt;Douban&lt;/span&gt;</div><div class=\"line\">  &lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;li class=&quot;navigation__item&quot;&gt;</div><div class=\"line\">  &lt;a href=&quot;&quot; title=&quot;&quot;&gt;</div><div class=\"line\">    &lt;i class=&apos;icon cs-icon-weibo&apos;&gt;&lt;/i&gt;</div><div class=\"line\">    &lt;span class=&quot;label&quot;&gt;Weibo&lt;/span&gt;</div><div class=\"line\">  &lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div></pre></td></tr></table></figure>\n<p>效果如下：</p>\n<p><img src=\"./cs-icon.png\" alt=\"\"></p>\n<p>字体文件位于<code>source/fonts/china-social/</code>中，对应的css文件是<code>source/css/china-social-icon.css</code>。</p>\n<h2 id=\"网站统计\"><a href=\"#网站统计\" class=\"headerlink\" title=\"网站统计\"></a>网站统计</h2><p>将网站统计（如Google analysis、CNZZ、百度统计等）代码放入<code>layout/_scripts/site-analytics.ejs</code>即可。</p>\n<h2 id=\"如何将Huno生成的静态网站放在某网站子目录\"><a href=\"#如何将Huno生成的静态网站放在某网站子目录\" class=\"headerlink\" title=\"如何将Huno生成的静态网站放在某网站子目录\"></a>如何将Huno生成的静态网站放在某网站子目录</h2><p>例如要将其放入<code>http://hi.letiantian.me/huno/</code>下，则需要：</p>\n<p><strong>修改Hexo配置文件<code>_config.yml</code>:</strong></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># URL</span></div><div class=\"line\"><span class=\"comment\">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></div><div class=\"line\"><span class=\"attr\">url:</span> http://hi.letiantian.me/huno</div><div class=\"line\"><span class=\"attr\">root:</span> /huno/</div></pre></td></tr></table></figure>\n<p><strong>修改主题的配置文件<code>_config.yml</code>:</strong></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Header</span></div><div class=\"line\"><span class=\"attr\">menu:</span></div><div class=\"line\">  首页: /huno/<span class=\"comment\">#blog</span></div><div class=\"line\">  关于: /huno/about</div><div class=\"line\">  归档: /huno/archive</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Site favicon</span></div><div class=\"line\"><span class=\"attr\">favicon:</span> /huno/favicon.png</div></pre></td></tr></table></figure>\n<p><strong>修改<code>huno/source/js/main.js</code>:</strong></p>\n<p>将</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.location.pathname != <span class=\"string\">\"/\"</span>) &#123;</div><div class=\"line\">  $(<span class=\"string\">'.panel-cover'</span>).addClass(<span class=\"string\">'panel-cover--collapsed'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>修改为</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.location.pathname != <span class=\"string\">\"/huno/\"</span>) &#123;</div><div class=\"line\">  $(<span class=\"string\">'.panel-cover'</span>).addClass(<span class=\"string\">'panel-cover--collapsed'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><strong>修改<code>huno/layout/_partials/side-panel.ejs</code>:</strong></p>\n<p>将</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% for (var i in theme.menu)&#123; %&gt;</div><div class=\"line\">  &lt;%</div><div class=\"line\">    if (theme.menu[i]+&apos;&apos; == &apos;/#blog&apos;) &#123;</div><div class=\"line\">      nav_btn_class = &apos;blog-button&apos;;</div><div class=\"line\">    &#125; else &#123;</div><div class=\"line\">      nav_btn_class = &apos;&apos;;</div><div class=\"line\">    &#125;</div><div class=\"line\">  %&gt;</div></pre></td></tr></table></figure>\n<p>修改为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% for (var i in theme.menu)&#123; %&gt;</div><div class=\"line\">  &lt;%</div><div class=\"line\">    if (theme.menu[i]+&apos;&apos; == &apos;/huno/#blog&apos;) &#123;</div><div class=\"line\">      nav_btn_class = &apos;blog-button&apos;;</div><div class=\"line\">    &#125; else &#123;</div><div class=\"line\">      nav_btn_class = &apos;&apos;;</div><div class=\"line\">    &#125;</div><div class=\"line\">  %&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><p>如果在中国大陆使用该主题后，访问速度变慢，可以考虑注释掉<code>source/css/uno.css</code>的第一行。</p>\n","excerpt":"<h1 id=\"Huno\"><a href=\"#Huno\" class=\"headerlink\" title=\"Huno\"></a>Huno</h1><p>Huno是为<a href=\"http://hexo.io/\">Hexo</a>编写的一个响应式的主题，该主题基于<a href=\"https://github.com/daleanthony/uno/\">Uno</a>。</p>","more":"<h2 id=\"Demo\"><a href=\"#Demo\" class=\"headerlink\" title=\"Demo\"></a>Demo</h2><p><a href=\"https://yuxiang.ren\">Huno’s demo</a></p>\n<h2 id=\"安装\"><a href=\"#安装\" class=\"headerlink\" title=\"安装\"></a>安装</h2><figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ git clone git://github.com/someus/huno.git themes/huno</div></pre></td></tr></table></figure>\n<p>修改Hexo的配置文件<code>_config.xml</code>：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">theme: huno</div></pre></td></tr></table></figure>\n<h2 id=\"兼容性\"><a href=\"#兼容性\" class=\"headerlink\" title=\"兼容性\"></a>兼容性</h2><p>在Hexo 3.1.1测试正常。</p>\n<h2 id=\"配置示例\"><a href=\"#配置示例\" class=\"headerlink\" title=\"配置示例\"></a>配置示例</h2><figure class=\"highlight\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div><div class=\"line\">14</div><div class=\"line\">15</div><div class=\"line\">16</div><div class=\"line\">17</div><div class=\"line\">18</div><div class=\"line\">19</div><div class=\"line\">20</div><div class=\"line\">21</div><div class=\"line\">22</div><div class=\"line\">23</div><div class=\"line\">24</div></pre></td><td class=\"code\"><pre><div class=\"line\"># Header</div><div class=\"line\">menu:</div><div class=\"line\">  博客: /#blog</div><div class=\"line\">  归档: /archive</div><div class=\"line\">  关于: /about</div><div class=\"line\">  主页: # your home page</div><div class=\"line\"></div><div class=\"line\"># Site favicon</div><div class=\"line\">favicon: /images/favicon.ico</div><div class=\"line\"></div><div class=\"line\"># 头像</div><div class=\"line\">avatar: /images/avatar.jpg</div><div class=\"line\"></div><div class=\"line\"># apple touch icon</div><div class=\"line\">appleTouchIcon: /images/apple-touch-icon.png</div><div class=\"line\"></div><div class=\"line\"># Enable Mathjax</div><div class=\"line\">mathjax: true</div><div class=\"line\"></div><div class=\"line\"># Enable awesome-toc</div><div class=\"line\">awesome_toc: true</div><div class=\"line\"></div><div class=\"line\"># Enable githubRepoWidget</div><div class=\"line\">github_repo_widget: false</div></pre></td></tr></table></figure>\n<p>menu中定义<code>/#blog</code>是必须的，示例中的<code>/about</code>和<code>/archive</code>是两个页面。<code>/archive</code>会在下面的<strong>归档页面</strong>中介绍。</p>\n<p><strong>mathjax:</strong></p>\n<p>数学公式支持。其设置（layout/_scripts/mathjax.ejs）如下：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\">$(document).ready(function()&#123;</div><div class=\"line\">    MathJax.Hub.Config(&#123; </div><div class=\"line\">        tex2jax: &#123;inlineMath: [[&apos;[latex]&apos;,&apos;[/latex]&apos;], [&apos;\\\\(&apos;,&apos;\\\\)&apos;]]&#125; </div><div class=\"line\">    &#125;);</div><div class=\"line\">&#125;);</div></pre></td></tr></table></figure>\n<p>官网：<a href=\"https://www.mathjax.org/\">mathjax</a></p>\n<p><strong>awesome_toc:</strong></p>\n<p>为文章生成目录。</p>\n<p>官网：<a href=\"https://github.com/someus/awesome-toc\">awesome-toc</a></p>\n<p><strong>github_repo_widget:</strong></p>\n<p>可视化显示github中的项目。</p>\n<p>官网：<a href=\"https://github.com/JoelSutherland/GitHub-jQuery-Repo-Widget\">GitHub-jQuery-Repo-Widget</a></p>\n<h2 id=\"侧边栏图片\"><a href=\"#侧边栏图片\" class=\"headerlink\" title=\"侧边栏图片\"></a>侧边栏图片</h2><p>侧边栏图片URL定义在<code>source/css/uno.css</code>中下面的这段代码中：</p>\n<figure class=\"highlight css\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"selector-class\">.panel-cover</span> &#123;</div><div class=\"line\">  <span class=\"attribute\">display</span>: block;</div><div class=\"line\">  <span class=\"attribute\">position</span>: fixed;</div><div class=\"line\">  <span class=\"attribute\">z-index</span>: <span class=\"number\">900</span>;</div><div class=\"line\">  <span class=\"attribute\">width</span>: <span class=\"number\">100%</span>;</div><div class=\"line\">  <span class=\"attribute\">max-width</span>: none;</div><div class=\"line\">  <span class=\"attribute\">height</span>: <span class=\"number\">100%</span>;</div><div class=\"line\">  <span class=\"attribute\">background</span>: <span class=\"built_in\">url</span>(../images/background-cover.jpg) top left no-repeat <span class=\"number\">#666666</span>;</div><div class=\"line\">  <span class=\"attribute\">background-size</span>: cover; &#125;</div></pre></td></tr></table></figure>\n<p>可以看出图片路径是<code>source/images/background-cover.jpg</code>。可以根据需要替换成不同的图片，或者修改图片URL。例如修改成CDN中的某个图片（<a href=\"https://github.com/someus/huno/pull/28\">#28</a>）：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div></pre></td><td class=\"code\"><pre><div class=\"line\">background: url(&quot;http://ww4.sinaimg.cn/mw690/6a80ef0fgw1fac749wvfij21hc0xch6b.jpg&quot;) top left no-repeat #666666;</div></pre></td></tr></table></figure>\n<h2 id=\"归档页面\"><a href=\"#归档页面\" class=\"headerlink\" title=\"归档页面\"></a>归档页面</h2><p>归档页面会显示分类、标签云以及基于日期的归档。</p>\n<p>在主题的配置文件<code>_config.yml</code>中：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Header</span></div><div class=\"line\"><span class=\"attr\">menu:</span></div><div class=\"line\">  首页: /<span class=\"comment\">#blog</span></div><div class=\"line\">  归档: /archive</div><div class=\"line\">  关于: /about</div></pre></td></tr></table></figure>\n<p>创建新的page：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">$ hexo new page archive</div><div class=\"line\">$ cd source/archive</div><div class=\"line\">$ vim index.md</div></pre></td></tr></table></figure>\n<p>内容修改为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\">title: 归档</div><div class=\"line\">layout: page-archive</div><div class=\"line\">---</div></pre></td></tr></table></figure>\n<blockquote>\n<p>!! hexo 默认有一个<code>/archives</code>，如果您认为归档页面的url（<code>/archive</code>）和这个冲突，可以选更加合适的名称:blush:。</p>\n</blockquote>\n<h2 id=\"评论\"><a href=\"#评论\" class=\"headerlink\" title=\"评论\"></a>评论</h2><p>支持Disqus和多说，在Hexo配置文件<code>_config.yml</code>中设置名称即可，例如：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Disqus</span></div><div class=\"line\"><span class=\"attr\">disqus_shortname:</span> letian</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Duoshuo</span></div><div class=\"line\"><span class=\"attr\">duoshuo_shortname:</span> letian</div></pre></td></tr></table></figure>\n<blockquote>\n<p>!!! 如果两个都设置，则两个评论工具都会显示。</p>\n</blockquote>\n<h2 id=\"Social-Icon\"><a href=\"#Social-Icon\" class=\"headerlink\" title=\"Social Icon\"></a>Social Icon</h2><p>默认提供了Github的图标，Github用户名请在Hexo的配置文件<code>_config.yml</code>中配置，例如：</p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Social</span></div><div class=\"line\"><span class=\"attr\">social:</span></div><div class=\"line\"><span class=\"attr\">  github:</span> someus</div></pre></td></tr></table></figure>\n<p>可以根据需要在<code>layout/_partials/social.ejs</code>中添加更多的图标。</p>\n<h2 id=\"China-Social-Icon\"><a href=\"#China-Social-Icon\" class=\"headerlink\" title=\"China Social Icon\"></a>China Social Icon</h2><blockquote>\n<p>这套字体来自 <a href=\"http://www.zcool.com.cn/gfx/ZMzM1MjEy.html\">设计素材：国内常用社交图标的web字体</a>， 版权归原作者所有。在huno中CSS文件做了些修改。</p>\n</blockquote>\n<p>这套字体和上面<code>Social Icon</code>的设计得并不一样，如果混用，排版效果会略差。例如，在<code>layout/_partials/social.ejs</code>加上：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div><div class=\"line\">9</div><div class=\"line\">10</div><div class=\"line\">11</div><div class=\"line\">12</div><div class=\"line\">13</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;li class=&quot;navigation__item&quot;&gt;</div><div class=\"line\">  &lt;a href=&quot;&quot; title=&quot;&quot;&gt;</div><div class=\"line\">    &lt;i class=&apos;icon cs-icon-douban&apos;&gt;&lt;/i&gt;</div><div class=\"line\">    &lt;span class=&quot;label&quot;&gt;Douban&lt;/span&gt;</div><div class=\"line\">  &lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div><div class=\"line\"></div><div class=\"line\">&lt;li class=&quot;navigation__item&quot;&gt;</div><div class=\"line\">  &lt;a href=&quot;&quot; title=&quot;&quot;&gt;</div><div class=\"line\">    &lt;i class=&apos;icon cs-icon-weibo&apos;&gt;&lt;/i&gt;</div><div class=\"line\">    &lt;span class=&quot;label&quot;&gt;Weibo&lt;/span&gt;</div><div class=\"line\">  &lt;/a&gt;</div><div class=\"line\">&lt;/li&gt;</div></pre></td></tr></table></figure>\n<p>效果如下：</p>\n<p><img src=\"./cs-icon.png\" alt=\"\"></p>\n<p>字体文件位于<code>source/fonts/china-social/</code>中，对应的css文件是<code>source/css/china-social-icon.css</code>。</p>\n<h2 id=\"网站统计\"><a href=\"#网站统计\" class=\"headerlink\" title=\"网站统计\"></a>网站统计</h2><p>将网站统计（如Google analysis、CNZZ、百度统计等）代码放入<code>layout/_scripts/site-analytics.ejs</code>即可。</p>\n<h2 id=\"如何将Huno生成的静态网站放在某网站子目录\"><a href=\"#如何将Huno生成的静态网站放在某网站子目录\" class=\"headerlink\" title=\"如何将Huno生成的静态网站放在某网站子目录\"></a>如何将Huno生成的静态网站放在某网站子目录</h2><p>例如要将其放入<code>http://hi.letiantian.me/huno/</code>下，则需要：</p>\n<p><strong>修改Hexo配置文件<code>_config.yml</code>:</strong></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># URL</span></div><div class=\"line\"><span class=\"comment\">## If your site is put in a subdirectory, set url as 'http://yoursite.com/child' and root as '/child/'</span></div><div class=\"line\"><span class=\"attr\">url:</span> http://hi.letiantian.me/huno</div><div class=\"line\"><span class=\"attr\">root:</span> /huno/</div></pre></td></tr></table></figure>\n<p><strong>修改主题的配置文件<code>_config.yml</code>:</strong></p>\n<figure class=\"highlight yaml\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"comment\"># Header</span></div><div class=\"line\"><span class=\"attr\">menu:</span></div><div class=\"line\">  首页: /huno/<span class=\"comment\">#blog</span></div><div class=\"line\">  关于: /huno/about</div><div class=\"line\">  归档: /huno/archive</div><div class=\"line\"></div><div class=\"line\"><span class=\"comment\"># Site favicon</span></div><div class=\"line\"><span class=\"attr\">favicon:</span> /huno/favicon.png</div></pre></td></tr></table></figure>\n<p><strong>修改<code>huno/source/js/main.js</code>:</strong></p>\n<p>将</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.location.pathname != <span class=\"string\">\"/\"</span>) &#123;</div><div class=\"line\">  $(<span class=\"string\">'.panel-cover'</span>).addClass(<span class=\"string\">'panel-cover--collapsed'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p>修改为</p>\n<figure class=\"highlight js\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div></pre></td><td class=\"code\"><pre><div class=\"line\"><span class=\"keyword\">if</span> (<span class=\"built_in\">window</span>.location.pathname != <span class=\"string\">\"/huno/\"</span>) &#123;</div><div class=\"line\">  $(<span class=\"string\">'.panel-cover'</span>).addClass(<span class=\"string\">'panel-cover--collapsed'</span>);</div><div class=\"line\">&#125;</div></pre></td></tr></table></figure>\n<p><strong>修改<code>huno/layout/_partials/side-panel.ejs</code>:</strong></p>\n<p>将</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% for (var i in theme.menu)&#123; %&gt;</div><div class=\"line\">  &lt;%</div><div class=\"line\">    if (theme.menu[i]+&apos;&apos; == &apos;/#blog&apos;) &#123;</div><div class=\"line\">      nav_btn_class = &apos;blog-button&apos;;</div><div class=\"line\">    &#125; else &#123;</div><div class=\"line\">      nav_btn_class = &apos;&apos;;</div><div class=\"line\">    &#125;</div><div class=\"line\">  %&gt;</div></pre></td></tr></table></figure>\n<p>修改为：</p>\n<figure class=\"highlight plain\"><table><tr><td class=\"gutter\"><pre><div class=\"line\">1</div><div class=\"line\">2</div><div class=\"line\">3</div><div class=\"line\">4</div><div class=\"line\">5</div><div class=\"line\">6</div><div class=\"line\">7</div><div class=\"line\">8</div></pre></td><td class=\"code\"><pre><div class=\"line\">&lt;% for (var i in theme.menu)&#123; %&gt;</div><div class=\"line\">  &lt;%</div><div class=\"line\">    if (theme.menu[i]+&apos;&apos; == &apos;/huno/#blog&apos;) &#123;</div><div class=\"line\">      nav_btn_class = &apos;blog-button&apos;;</div><div class=\"line\">    &#125; else &#123;</div><div class=\"line\">      nav_btn_class = &apos;&apos;;</div><div class=\"line\">    &#125;</div><div class=\"line\">  %&gt;</div></pre></td></tr></table></figure>\n<h2 id=\"其他\"><a href=\"#其他\" class=\"headerlink\" title=\"其他\"></a>其他</h2><p>如果在中国大陆使用该主题后，访问速度变慢，可以考虑注释掉<code>source/css/uno.css</code>的第一行。</p>"}],"PostAsset":[],"PostCategory":[{"post_id":"ciwfyce6400005kjgycv1donh","category_id":"ciwfyce6d00025kjgngamtg05","_id":"ciwfyce6x000a5kjgerzw4td6"},{"post_id":"ciwfyce6h00045kjgdmte7inp","category_id":"ciwfyce6d00025kjgngamtg05","_id":"ciwfyce70000e5kjgkjzdtvap"},{"post_id":"ciwfyce6j00055kjgcac8unev","category_id":"ciwfyce6y000b5kjgs28fc3es","_id":"ciwfyce72000i5kjgp0fdom5x"},{"post_id":"ciwfyce6n00065kjgqmdp6gex","category_id":"ciwfyce70000g5kjgdcrwja38","_id":"ciwfyce74000m5kjgmfqf87w2"},{"post_id":"ciwfyce6s00095kjgk6zmvajk","category_id":"ciwfyce70000g5kjgdcrwja38","_id":"ciwfyce77000q5kjgfcfhin4n"}],"PostTag":[{"post_id":"ciwfyce6400005kjgycv1donh","tag_id":"ciwfyce6q00085kjgeo1q7c4t","_id":"ciwfyce70000f5kjgl5r1p140"},{"post_id":"ciwfyce6h00045kjgdmte7inp","tag_id":"ciwfyce6z000c5kjgfxq6r8vv","_id":"ciwfyce74000l5kjgwudpf9hu"},{"post_id":"ciwfyce6h00045kjgdmte7inp","tag_id":"ciwfyce6q00085kjgeo1q7c4t","_id":"ciwfyce75000n5kjggfpht2pu"},{"post_id":"ciwfyce6j00055kjgcac8unev","tag_id":"ciwfyce73000k5kjgwgucvg68","_id":"ciwfyce76000p5kjgp0h6k27n"},{"post_id":"ciwfyce6n00065kjgqmdp6gex","tag_id":"ciwfyce76000o5kjg0hsgjup8","_id":"ciwfyce7b000t5kjgmjd9qext"},{"post_id":"ciwfyce6n00065kjgqmdp6gex","tag_id":"ciwfyce78000r5kjgq79zwd2d","_id":"ciwfyce7c000u5kjgo95neaph"},{"post_id":"ciwfyce6s00095kjgk6zmvajk","tag_id":"ciwfyce78000r5kjgq79zwd2d","_id":"ciwfyce7e000v5kjgmmp3280y"},{"post_id":"ciwfyce6400005kjgycv1donh","tag_id":"ciwudd9l10000abnt2exxocuh","_id":"ciwudd9lr0003abnt4evb5dnn"},{"post_id":"ciwfyce6400005kjgycv1donh","tag_id":"ciwudd9lq0001abntnrwghagp","_id":"ciwudd9lr0004abntyw6hygz8"},{"post_id":"ciwfyce6h00045kjgdmte7inp","tag_id":"ciwudd9lr0002abntqci4ioy6","_id":"ciwudd9ls0005abntma438puh"}],"Tag":[{"name":"OC","_id":"ciwfyce6g00035kjgy12qdtpj"},{"name":"error","_id":"ciwfyce6q00085kjgeo1q7c4t"},{"name":"gem","_id":"ciwfyce6z000c5kjgfxq6r8vv"},{"name":"情感","_id":"ciwfyce73000k5kjgwgucvg68"},{"name":"git","_id":"ciwfyce76000o5kjg0hsgjup8"},{"name":"blog","_id":"ciwfyce78000r5kjgq79zwd2d"},{"name":"Xcode","_id":"ciwudd9l10000abnt2exxocuh"},{"name":"Objc","_id":"ciwudd9lq0001abntnrwghagp"},{"name":"terminal","_id":"ciwudd9lr0002abntqci4ioy6"}]}}